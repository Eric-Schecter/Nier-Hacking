(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,function(t,e,n){t.exports={root:"styles_root__1cEo0",menu:"styles_menu__AEKUY",game:"styles_game__FSyQx",content:"styles_content__1CK1c",keyArea:"styles_keyArea__20NSP",key:"styles_key__1gxI0",keyText:"styles_keyText__ij-mZ",show:"styles_show__3XC91",showUp:"styles_showUp__1mZIi",hide:"styles_hide__3t36h",showDown:"styles_showDown__XO0rP",hideDown:"styles_hideDown__17X6I",hideUp:"styles_hideUp__2vnNT",showRight:"styles_showRight__1V7uY",showLeft:"styles_showLeft__1qdAz",hideLeft:"styles_hideLeft__2RYfy",hideRight:"styles_hideRight__19mAN","right-repect":"styles_right-repect__1pG-P","left-repect":"styles_left-repect__mjueG"}},,,,,function(t,e,n){t.exports={block:"styles_block__7_U9F",show:"styles_show__zaRV1",container:"styles_container__3s1TI",showUp:"styles_showUp__3fuke",title:"styles_title__1SCr2",option:"styles_option__3azmm",btn:"styles_btn__3SbYt",showDown:"styles_showDown__3ZF3N",hideDown:"styles_hideDown__1sIFa",hideUp:"styles_hideUp__1HH70",showRight:"styles_showRight__Qub4-",showLeft:"styles_showLeft__a8OTC",hideLeft:"styles_hideLeft__4VwMm",hideRight:"styles_hideRight__kgIiP",hide:"styles_hide__QCycl","right-repect":"styles_right-repect__2P2bp","left-repect":"styles_left-repect__18tUb"}},,function(t,e,n){t.exports={loading:"styles_loading__24mMC",loadingBar:"styles_loadingBar__9gqt8",loadingBg:"styles_loadingBg__88XJw",show:"styles_show__16L53",fadeout:"styles_fadeout__2pdw7",showUp:"styles_showUp__2eqr7",showDown:"styles_showDown__1ssGI",hideDown:"styles_hideDown__36WoI",hideUp:"styles_hideUp__3LL9h",showRight:"styles_showRight__21HPa",showLeft:"styles_showLeft__cKkoy",hideLeft:"styles_hideLeft__12RbN",hideRight:"styles_hideRight__UQ8bN",hide:"styles_hide__1slsP","right-repect":"styles_right-repect__3EBeP","left-repect":"styles_left-repect__3AXJL"}},function(t,e,n){t.exports={loading:"styles_loading__3QN-E",loadingBar:"styles_loadingBar__13r9o",wave:"styles_wave__3uQIH",expand:"styles_expand__3C2C3",fadeout:"styles_fadeout__JCaBS",showUp:"styles_showUp__1vbBQ",showDown:"styles_showDown__oKOzU",hideDown:"styles_hideDown__2_H5r",hideUp:"styles_hideUp__qgb1z",showRight:"styles_showRight__1qwpY",showLeft:"styles_showLeft__88ZWU",hideLeft:"styles_hideLeft__31hWo",hideRight:"styles_hideRight__7Xn9u",show:"styles_show__Ft4Nr",hide:"styles_hide__3_D52","right-repect":"styles_right-repect__310ks","left-repect":"styles_left-repect__1yaoa"}},function(t,e,n){t.exports={listArea:"styles_listArea__12_C_",showRight:"styles_showRight__1b7WC",listContainer:"styles_listContainer__2NaLh",toRight:"styles_toRight__Z-KjF",notselected:"styles_notselected__-YLzJ",selected:"styles_selected__oQQXC",showUp:"styles_showUp__3M8Ax",showDown:"styles_showDown__L1Kis",hideDown:"styles_hideDown__ArOdr",hideUp:"styles_hideUp__mFVh_",showLeft:"styles_showLeft__2cC9V",hideLeft:"styles_hideLeft__1gOGN",hideRight:"styles_hideRight__4LsM3",show:"styles_show__3VUPS",hide:"styles_hide__1hb4x","right-repect":"styles_right-repect__zyHyZ","left-repect":"styles_left-repect__1o1La"}},,function(t,e,n){t.exports={root:"styles_root__3TCKk",bg:"styles_bg__1NhXJ",show:"styles_show__1jFj-",hide:"styles_hide__2njVq",showUp:"styles_showUp__j6MUi",showDown:"styles_showDown__139M5",hideDown:"styles_hideDown__1sQ3c",hideUp:"styles_hideUp__2MqHm",showRight:"styles_showRight__2mONs",showLeft:"styles_showLeft__2o1Mz",hideLeft:"styles_hideLeft__1eMPX",hideRight:"styles_hideRight__2CJZc","right-repect":"styles_right-repect__C8vGz","left-repect":"styles_left-repect__3Wh3T"}},function(t,e,n){t.exports={root:"styles_root__18XGp",show:"styles_show__1CrxF",profile:"styles_profile__1Dy__",showLeft:"styles_showLeft__2rMLu",hide:"styles_hide__K3eh1",showUp:"styles_showUp__2dhMC",showDown:"styles_showDown__3YVtV",hideDown:"styles_hideDown__6HeOC",hideUp:"styles_hideUp__3s0FD",showRight:"styles_showRight__BX6JR",hideLeft:"styles_hideLeft__1TIun",hideRight:"styles_hideRight__3RAPb","right-repect":"styles_right-repect__2qATv","left-repect":"styles_left-repect__4u8Vh"}},function(t,e,n){t.exports={root:"styles_root__2aYox",hide:"styles_hide__204ew",showUp:"styles_showUp__3tU3k",showDown:"styles_showDown__FWV8Y",hideDown:"styles_hideDown__gtltJ",hideUp:"styles_hideUp__3Cr-n",showRight:"styles_showRight__2fGOF",showLeft:"styles_showLeft__JH2Ek",hideLeft:"styles_hideLeft__2sc5P",hideRight:"styles_hideRight__kcjXx",show:"styles_show__2VezR","right-repect":"styles_right-repect__OrRp0","left-repect":"styles_left-repect__3TUQR"}},function(t,e,n){t.exports={svg:"styles_svg__HajUE",up:"styles_up__3LsPt",container:"styles_container__1TKAW",draw:"styles_draw__1RMTn"}},function(t,e,n){t.exports={title:"styles_title__3ANXS",showRight:"styles_showRight__1nuY1",moveRight:"styles_moveRight__2kPV1"}},,,function(t,e,n){t.exports={cover:"styles_cover__3Iu0F",fade:"styles_fade__NNw7O"}},function(t,e,n){t.exports={start:"styles_start__1SSTH",shining:"styles_shining__1NJPA"}},function(t,e,n){t.exports={canvas:"styles_canvas__2FTWr"}},,function(t,e,n){t.exports=n(33)},,,,,,function(t,e,n){"use strict";n.r(e);var c,a,r,o,i=n(3),s=n.n(i),u=n(22),l=n(4),f=n(18),h=n.n(f),p=n(26);!function(t){t[t.top=87]="top",t[t.left=65]="left",t[t.down=83]="down",t[t.right=68]="right",t[t.turnLeft=74]="turnLeft",t[t.turnRight=75]="turnRight",t[t.fire=32]="fire"}(c||(c={})),function(t){t.play="play",t.success="success",t.fail="fail"}(a||(a={})),function(t){t[t.pause=80]="pause",t[t.return=82]="return",t[t.space=32]="space"}(r||(r={})),function(t){t[t.top=87]="top",t[t.left=65]="left",t[t.down=83]="down",t[t.right=68]="right"}(o||(o={}));var d,y,x,b,v,w,g,m,j,O,_,E,R,S,M,P,k,L,A,T,I,C,W,z,D,H,N,B,F,U,V,q,X,Y,G,J,K,Q,Z,$,tt,et,nt,ct,at,rt,ot,it,st,ut,lt,ft,ht,pt,dt,yt,xt,bt,vt,wt,gt,mt,jt,Ot,_t,Et,Rt,St,Mt,Pt,kt,Lt,At,Tt,It,Ct,Wt,zt,Dt,Ht,Nt,Bt,Ft,Ut,Vt,qt,Xt,Yt,Gt,Jt,Kt,Qt,Zt,$t,te,ee,ne,ce,ae,re,oe,ie,se,ue,le,fe,he,pe,de,ye,xe,be,ve,we,ge,me,je,Oe,_e,Ee,Re,Se,Me,Pe,ke,Le,Ae,Te,Ie,Ce,We,ze,De,He,Ne,Be,Fe,Ue,Ve,qe,Xe,Ye,Ge,Je,Ke,Qe,Ze,$e,tn,en,nn,cn,an,rn,on,sn,un,ln,fn,hn,pn,dn,yn,xn,bn,vn,wn,gn,mn,jn,On,_n,En,Rn,Sn,Mn,Pn,kn,Ln,An,Tn,In,Cn,Wn,zn,Dn,Hn,Nn,Bn,Fn,Un,Vn,qn,Xn,Yn,Gn,Jn,Kn,Qn,Zn,$n,tc,ec,nc,cc,ac,rc,oc,ic,sc,uc,lc,fc,hc,pc,dc,yc,xc,bc,vc,wc,gc,mc,jc,Oc,_c,Ec,Rc,Sc,Mc=Object.values(c).filter((function(t){return"number"===typeof t})),Pc=Object.entries(c).filter((function(t){return"number"===typeof t[1]})),kc=n(2),Lc=n(1),Ac=n(0),Tc=n(8),Ic=function t(e,n){var c=this;Object(Ac.a)(this,t),this.x=e,this.y=n,this.add=function(t){c.x+=t.x,c.y+=t.y},this.sub=function(t){c.x-=t.x,c.y-=t.y},this.mag=function(){return Math.sqrt(c.x*c.x+c.y*c.y)},this.div=function(t){c.x=c.x/t,c.y=c.y/t},this.normalize=function(){var t=c.mag();t&&c.div(t)},this.mult=function(t){c.x=c.x*t,c.y=c.y*t},this.dot=function(t){return c.x*t.x+c.y*t.y},this.getRadius=function(t){return Math.acos(c.dot(t)/(c.mag()*t.mag()))},this.dis=function(t){return Math.abs(c.mag()-t.mag())},this.reverse=function(){c.x=-c.x,c.y=-c.y},this.rotate=function(t){},this.isEqual=function(t){return c.x===t.x&&c.y===t.y}},Cc=function(){function t(e,n){var c=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.angle=a,this.radian=this.angle/180*Math.PI,this.yTop=80,this.yBottom=40,this.xLeft=30,this.xRight=30,this.canDefect=!0,this.rotate=function(){c.ctx.translate(c.pos.x,c.pos.y),c.ctx.rotate(c.radian),c.ctx.translate(-c.pos.x,-c.pos.y)},this.borderCheck=function(t,e){var n=e.getSize,a=n.left,r=n.right,o=n.top,i=n.bottom;return{xBorder:c.pos.x-a<=c.xLeft&&t.x<0||c.pos.x-r>=-c.xRight&&t.x>0,yBorder:c.pos.y-o<=c.yTop&&t.y<0||c.pos.y-i>=-c.yBottom&&t.y>0}},this.collisionCheck=function(t){var e=c.getSize,n=e.width,a=e.height;return Math.abs(c.pos.x-t.pos.x)<Math.max(n/2,t.getSize.width/2)&&Math.abs(c.pos.y-t.pos.y)<Math.max(a/2,t.getSize.height/2)}}return Object(Tc.a)(t,[{key:"getSize",get:function(){return{width:this.xLeft+this.xRight,height:this.yTop+this.yBottom}}},{key:"getCanDefect",get:function(){return this.canDefect}}]),t}(),Wc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t,c,a,r){var o;return Object(Ac.a)(this,n),(o=e.call(this,t,c,a)).audio=r,o.isFire=!1,o.sound="",o.v=new Ic(0,0),o.life=1,o.soundHit="",o.hasEffect=!1,o.volume=.5,o.hitEffect=function(){},o.hit=function(){o.soundHit&&o.audio.play(o.soundHit),o.life--,o.life>0&&o.hitEffect()},o.fire=function(){o.isFire||(o.sound&&o.audio&&o.audio.play(o.sound,o.volume),o.isFire=!0)},o.update=function(){},o.explode=function(){},o.applyEffect=function(t){},o}return Object(Tc.a)(n,[{key:"getHasEffect",get:function(){return this.hasEffect}},{key:"getLife",get:function(){return this.life}},{key:"getV",get:function(){return this.v}}]),n}(Cc),zc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t,c,a,r){var o;return Object(Ac.a)(this,n),(o=e.call(this,t,c,a)).explodeEffects=r,o.life=0,o.soundDead="",o.isProtected=!1,o.damagePeriod=!1,o.damagePeriodTime=100,o.audio=void 0,o.color=[0,0,0],o.isDead=function(){return o.life<=0},o.explode=function(){o.audio.play(o.soundDead),o.explodeEffect()},o.invincibleMode=function(){o.damagePeriod=!0,setTimeout((function(){o.damagePeriod=!1}),o.damagePeriodTime)},o.explodeEffect=function(){},o.hitEffect=function(){},o.hit=function(){o.damagePeriod||(o.isProtected||(o.life-=1,o.invincibleMode()),o.hitEffect())},o.borderLimit=function(t,e){var n=o.borderCheck(t,e),c=n.xBorder,a=n.yBorder;c&&(t.x=0),a&&(t.y=0)},o.draw=function(){},o}return n}(Cc),Dc=function(){function t(){var e=this;Object(Ac.a)(this,t),this.list=[],this.add=function(t){e.list.push(t)},this.remove=function(t){e.list.splice(t,1)}}return Object(Tc.a)(t,[{key:"getList",get:function(){return this.list}}]),t}(),Hc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).radius=0,t.opacity=.5,t.isFade=!1,t.drawCircle=function(e){t.ctx.save(),t.ctx.beginPath(),t.ctx.arc(t.pos.x,t.pos.y,e,0,2*Math.PI,!1),t.ctx.stroke(),t.ctx.restore()},t.update=function(e){t.radius>=25?t.radius=0:t.radius+=.8,t.pos=e,t.isFade&&(t.opacity-=.01)},t.display=function(e){t.update(e),t.ctx.save(),t.ctx.beginPath(),t.ctx.strokeStyle="rgba(255,255,255,".concat(t.opacity,")"),t.ctx.shadowBlur=10,t.ctx.shadowColor="white",t.ctx.lineWidth=5,t.drawCircle(t.radius),t.drawCircle(t.radius+25),t.drawCircle(t.radius+50),t.drawCircle(t.radius+75),t.ctx.restore()},t}return Object(Tc.a)(n,[{key:"getIsFade",get:function(){return this.isFade}},{key:"setIsFade",set:function(t){this.isFade=t}}]),n}(Cc),Nc=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).setIsProtected=!0,t}return n}(t)},Bc={src:"./media/opening.mp3",volume:1,restartPoint:27.6},Fc={src:"./media/bg.mp3",volume:1,restartPoint:24.2,endPoint:163},Uc={src:"./media/button_select.wav"},Vc={src:"./media/contact_done2.wav"},qc={src:"./media/menu.ogg"},Xc={src:"./media/change_scene.ogg"},Yc={src:"./media/stop.ogg"},Gc={src:"./media/start.ogg"},Jc={src:"./media/success.ogg"},Kc={src:"./media/enemy_explode0.wav"},Qc={src:"./media/player_explode.wav"},Zc={src:"./media/player_hit.wav"},$c={src:"./media/enemy_hit.wav"},ta={src:"./media/core_hit_shield.wav"},ea={src:"./media/player_shoot.wav"},na={src:"./media/enemy_shoot.wav"},ca={src:"./media/electronic.ogg"},aa={src:"./media/electric.ogg"},ra=Kc,oa=$c,ia=ta,sa=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t,c,a,r,o,i){var s;return Object(Ac.a)(this,n),(s=e.call(this,t,c,a,r)).bullet=o,s.audio=i,s.radius=50,s.speed=3,s.opacity=1,s.timer=void 0,s.life=10,s.isProtected=!1,s.soundDead=ra.src,s.soundHit=oa.src,s.count=0,s.width=s.isProtected?200:100,s.height=s.isProtected?200:100,s.fireSpeed=100,s.protection=new Hc(s.ctx,s.pos,s.angle),s.a=new Ic(0,0),s.gravity=10,s.gravityIndex=500,s.applyRepulision=function(t){var e=t.map((function(t){if(!t.pos||!s.pos||s.pos.isEqual(t.pos))return new Ic(0,0);var e=new Ic(s.pos.x,s.pos.y);return e.sub(t.pos),e.mag()>150?new Ic(0,0):(e.div(e.mag()*e.mag()*s.gravity),e.mult(s.gravityIndex),e)})).reduce((function(t,e){var n=new Ic(t.x,t.y);return n.add(e),n}),s.a);s.setA=e},s.hitEffect=function(){s.audio.play(s.soundHit,.5),s.isProtected||(s.opacity=.3,clearTimeout(s.timer),s.timer=setTimeout((function(){s.opacity=1}),1e3/60))},s.explodeEffect=function(){},s.move=function(t,e){},s.fire=function(t){},s.update=function(t,e,n){s.applyRepulision(n),s.move(t,e),s.fire(t),s.setA=new Ic(0,0)},s.display=function(){s.draw(),s.isProtected&&s.protection.display(s.pos)},s}return Object(Tc.a)(n,[{key:"getProtection",get:function(){return this.protection}},{key:"getIsProtected",get:function(){return this.isProtected}},{key:"setIsProtected",set:function(t){this.soundHit=t?oa.src:ia.src,this.isProtected=t}},{key:"getA",get:function(){return this.a}},{key:"setA",set:function(t){this.a=t}}]),n}(zc),ua=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).list=[],t.checkDead=function(){t.list.forEach((function(e,n){e.isDead()&&(e.explode(),t.remove(n)),e.display()}))},t.checkProtection=function(){var e=t.list.filter((function(t){return t.getIsProtected}));0===t.list.filter((function(t){return!t.getIsProtected})).length&&0!==e.length&&e.forEach((function(t){t.getProtection.getIsFade||(t.getProtection.setIsFade=!0,setTimeout((function(){t.setIsProtected=!1}),700))}))},t.update=function(){t.checkDead(),t.checkProtection()},t}return n}(Dc),la=Qc,fa=Zc,ha=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t,c,a,r,o,i){var s;return Object(Ac.a)(this,n),(s=e.call(this,t,c,a,r)).bullets=o,s.audio=i,s.yTop=80,s.yBottom=40,s.xLeft=30,s.xRight=30,s.step=15,s.life=3,s.soundDead=la.src,s.soundHit=fa.src,s.damagePeriodTime=1e3,s.hitWave=!1,s.hitWaveRadius=0,s.color=[212,209,194],s.a=new Ic(0,0),s.v=new Ic(0,0),s.vIndex=1,s.hitEffect=function(){s.hitWave||(s.audio.play(s.soundHit,.5),s.hitWave=!0,setTimeout((function(){s.hitWave=!1,s.hitWaveRadius=0}),s.damagePeriodTime))},s.hitCheck=function(t){var e=s.getSize,n=e.width,c=e.height;t.forEach((function(t){if(Math.abs(s.pos.x-t.pos.x)<n/2+t.getSize.width/2+20&&Math.abs(s.pos.y-t.pos.y)<c/2+t.getSize.height/2+20){if(s.damagePeriod)return;s.isProtected||(s.life-=1,s.invincibleMode()),s.hitEffect()}}))},s.update=function(t){t.normalize(),t.mult(s.step),s.v=t},s.init=function(){s.a=new Ic(0,0),s.vIndex=1},s.move=function(t,e){},s.display=function(t,e,n,c){s.hitCheck(t.getList),s.update(e),s.move(n,c),s.draw(),s.init()},s.fire=function(){},s.explodeEffect=function(){},s.draw=function(){},s}return Object(Tc.a)(n,[{key:"getV",get:function(){return this.v}},{key:"setVIndex",set:function(t){this.vIndex*=t}},{key:"getA",get:function(){return this.a}},{key:"setA",set:function(t){this.a.add(t)}}]),n}(zc),pa=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).list=[],t.update=function(e,n,c,a){t.list.forEach((function(r,o){r.isDead()&&(r.explode(),t.remove(o)),r.display(c,e,n,a)}))},t}return n}(Dc),da=na,ya=ea,xa=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).yTop=80,t.yBottom=0,t.xLeft=15,t.xRight=15,t.sound=ya.src,t.display=function(){},t}return n}(Wc),ba=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t,c,a,r,o){var i;return Object(Ac.a)(this,n),(i=e.call(this,t,c,0,o)).ctx=t,i.pos=c,i.posTarget=a,i.explodeEffects=r,i.speed=8,i.sound=da.src,i.soundExplode="",i.color=[233,121,55],i.volume=.2,i.explodeEffect=function(){},i.explode=function(){i.soundExplode&&i.audio.play(i.soundExplode),i.explodeEffect()},i.draw=function(){},i.display=function(){i.fire(),i.update(),i.draw()},i}return n}(Wc),va=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t){var c;return Object(Ac.a)(this,n),(c=e.call(this)).ctx=t,c.list=[],c.collisionCheck=function(t,e){for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)if(c.list[e].collisionCheck(t[n][a]))return{selfResult:c.list[e].getCanDefect,targetResult:t[n][a].getCanDefect,m:n,n:a};return{selfResult:!1,targetResult:!1,m:-1,n:-1}},c.update=function(t,e){for(var n=t.map((function(t){return t.getList})),a=function(a){c.list[a].display(),c.list[a].getHasEffect&&t.forEach((function(t){return t instanceof pa&&c.list[a].applyEffect(t)}));var r=c.collisionCheck(n,a),o=r.selfResult,i=r.targetResult,s=r.m,u=r.n;if(i&&o){var l=n[s][u];l.hit(),c.list[a].hit(),(l instanceof xa||l instanceof ba)&&l.getLife<=0&&(l.explode(),t[s].remove(u))}else if(i||o){var f=n[s][u];(f instanceof ha||f instanceof sa)&&(i&&f.hit(),c.list[a].hit())}var h=c.list[a].getLife;h<=0&&c.list[a].explode();var p=c.list[a].borderCheck(c.list[a].getV,e),d=p.xBorder,y=p.yBorder;(d||y||h<=0)&&c.remove(a)},r=c.list.length-1;r>=0;r--)a(r)},c}return n}(Dc),wa=function t(e,n){var c=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.width=90,this.height=90,this.display=function(){c.ctx.beginPath(),c.ctx.fillStyle="white",c.ctx.strokeStyle="grey",c.ctx.rect(c.pos.x,c.pos.y,c.width,c.height),c.ctx.fill(),c.ctx.stroke()}},ga=function t(e,n,c){var a=this;Object(Ac.a)(this,t),this.ctx=e,this.width=n,this.height=c,this.timer=0,this.color=void 0,this.colorLevel=[100,67,30],this.lenH=300,this.row=Math.ceil(this.width/this.lenH),this.lenV=this.lenH*Math.sin(.25*Math.PI),this.heightC=Math.ceil(this.height/this.lenV),this.update=function(t){for(var e=0;e<a.row+1;e++)for(var n=0;n<a.heightC;n++)for(var c=0;c<4;c++)t?Math.random()>.3&&(a.color[e][n][c]=2):Math.random()>.5&&a.color[e][n][c]!==a.colorLevel.length-1&&a.color[e][n][c]++},this.drawRight=function(t,e){a.ctx.moveTo(a.lenH*t,a.lenV*e),a.ctx.lineTo(a.lenH*(t+1),a.lenV*e),a.ctx.lineTo(a.lenH*(t+.5),a.lenV*(e+1))},this.drawLeft=function(t,e){a.ctx.moveTo(a.lenH*t,a.lenV*e),a.ctx.lineTo(a.lenH*(t-.5),a.lenV*(e+1)),a.ctx.lineTo(a.lenH*(t+.5),a.lenV*(e+1))},this.draw=function(t,e,n,c){a.ctx.beginPath();var r=a.colorLevel[a.color[t][e][n]];a.ctx.fillStyle=r?"rgb(".concat(r,",").concat(r,",").concat(r,")"):"transparent",c(e%2===0?t:t-.5,e),a.ctx.closePath(),a.ctx.fill()},this.display=function(){a.timer%10===0&&a.timer/10>0&&a.update(a.timer/10>3);for(var t=Math.ceil(a.height/a.lenV),e=0;e<a.row+1;e++)for(var n=0;n<t;n++)a.draw(e,n,0,a.drawRight),a.draw(e,n,1,a.drawLeft);a.timer++},this.color=new Array(this.row+1).fill(0).map((function(){return new Array(a.heightC).fill(0).map((function(){return new Array(2).fill(0).map((function(){return Math.random()>.2?-1:Math.floor(3*Math.random())}))}))}))},ma=function(){function t(e,n,c,a,r,o,i,s){var u=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.sWidth=c,this.sHeight=a,this.wWidth=r,this.wHeight=o,this.vWidth=i,this.vHeight=s,this.display=function(){u.ctx.beginPath(),u.ctx.fillStyle="rgb(190, 184, 159)",u.ctx.rect(u.pos.x,u.pos.y,u.sWidth,u.sHeight),u.ctx.fill()}}return Object(Tc.a)(t,[{key:"getSize",get:function(){return{left:this.pos.x,top:this.pos.y,right:this.sWidth+this.pos.x,bottom:this.sHeight+this.pos.y,sWidth:this.sWidth,sHeight:this.sHeight,vWidth:this.vWidth,vHeight:this.vHeight,wWidth:this.wWidth,wHeight:this.wHeight}}}]),t}(),ja=function t(e,n,c){var a=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.color=c,this.radius=0,this.radiusArr=[],this.opacity=1,this.draw=function(){a.ctx.save(),a.ctx.beginPath(),a.ctx.strokeStyle="rgba(".concat(a.color[0],",").concat(a.color[1],",").concat(a.color[2],",").concat(a.opacity,")"),a.ctx.lineWidth=5,a.radiusArr.forEach((function(t,e){0===e?a.ctx.moveTo(a.pos.x+Math.cos(e/45*Math.PI)*(t+a.radius),a.pos.y+Math.sin(e/45*Math.PI)*(t+a.radius)):a.ctx.lineTo(a.pos.x+Math.cos(e/45*Math.PI)*(t+a.radius),a.pos.y+Math.sin(e/45*Math.PI)*(t+a.radius))})),a.ctx.stroke(),a.ctx.restore()},this.update=function(){a.opacity-=.15,a.radius+=10},this.display=function(){a.update(),a.draw()},this.isDead=function(){return a.opacity<=0},this.radiusArr=Array(90).fill(0).map((function(){return 40*Math.random()}))},Oa=ca,_a=function t(e,n){var c=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.max=500,this.radius=0,this.opacityFill=.2,this.opacityLine=.5,this.count=0,this.color=[255,255,255],this.update=function(){c.radius<=c.max&&(c.radius=Math.tanh(c.count/10)*c.max),c.count>100&&(c.opacityFill-=.05,c.opacityLine-=.05)},this.draw=function(){c.ctx.save(),c.ctx.beginPath(),c.ctx.fillStyle="rgba(0,0,0,".concat(c.opacityFill,")"),c.ctx.lineWidth=10,c.ctx.strokeStyle="rgba(0,0,0,".concat(c.opacityLine,")"),c.ctx.arc(c.pos.x,c.pos.y,c.radius,0,2*Math.PI,!1),c.ctx.fill(),c.ctx.stroke(),c.ctx.restore()},this.drawEffect=function(){},this.display=function(){c.update(),c.drawEffect(),c.draw(),c.count++},this.isDead=function(){return c.opacityFill<=0}},Ea=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).drawEffect=function(){t.ctx.save();var e=100*Math.random();t.ctx.beginPath(),t.ctx.lineWidth=5,t.ctx.strokeStyle="rgba(0,0,0,".concat(t.opacityLine,")");for(var n=0;n<500;n++){var c=(t.radius-e)*Math.random(),a=2*Math.PI*Math.random(),r=c*Math.cos(a),o=c*Math.sin(a)-e/2;t.ctx.moveTo(t.pos.x+r,t.pos.y+o),t.ctx.lineTo(t.pos.x+r,t.pos.y+o+e)}t.ctx.stroke(),t.ctx.restore()},t}return n}(_a),Ra=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).soundEffect=Oa.src,t.drawEffect=function(){if(Math.floor(t.count/10)%5<1){t.ctx.beginPath(),t.ctx.strokeStyle="rgb(255,255,255)",t.ctx.lineWidth=5;for(var e=0;e<20;e++){var n=500*Math.random(),c=2*Math.PI*Math.random(),a=n*Math.cos(c),r=n*Math.sin(c);t.ctx.moveTo(t.pos.x,t.pos.y),t.ctx.lineTo(t.pos.x+a,t.pos.y+r)}t.ctx.stroke()}},t}return Object(Tc.a)(n,[{key:"getSoundEffect",get:function(){return this.soundEffect}}]),n}(_a),Sa=function t(e,n){var c=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.loc=new Ic(this.pos.x+100*(Math.random()-.5),this.pos.y+100*(Math.random()-.5)),this.v=new Ic(150*(Math.random()-.5),150*(Math.random()-.5)),this.acc=new Ic(-this.v.x/40,-this.v.y/40),this.size={width:90*(Math.random()-.5)+10,height:90*(Math.random()-.5)+10},this.opacity=.5*Math.random()+.5,this.color=[0,0,0],this.update=function(){c.v.mag()<0?c.v=new Ic(0,0):c.v.add(c.acc),c.loc.add(c.v),c.opacity-=.03},this.draw=function(){c.ctx.beginPath(),c.ctx.fillStyle="rgba(".concat(c.color[0],",").concat(c.color[1],",").concat(c.color[2],",").concat(c.opacity,")"),c.ctx.rect(c.loc.x,c.loc.y,c.size.width,c.size.height),c.ctx.fill()},this.display=function(){c.update(),c.draw()},this.isDead=function(){return c.opacity<=0}},Ma=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t,c,a,r){var o;return Object(Ac.a)(this,n),(o=e.call(this,t,c)).radian=0,o.loc=new Ic(o.pos.x,o.pos.y),o.size={width:5,height:100},o.opacity=.8*Math.random()+.5,o.color=[225,0,0],o.rotate=function(){o.ctx.translate(o.pos.x,o.pos.y),o.ctx.rotate(o.radian),o.ctx.translate(-o.pos.x,-o.pos.y)},o.display=function(){o.ctx.save(),o.update(),o.rotate(),o.draw(),o.ctx.restore()},o.radian=r/180*Math.PI,o.v=new Ic(0,100*Math.random()+50),o.acc=new Ic(-o.v.x/40,-o.v.y/40),o}return n}(Sa),Pa=function t(e,n){var c=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.count=0,this.distanceL=500,this.distanceS=10,this.drawLine=function(t,e){c.ctx.beginPath(),c.ctx.fillStyle="rgba(255,0,0,".concat(.8*Math.cos(c.count/180*Math.PI),")"),c.ctx.strokeStyle="rgba(255,0,0,".concat(.3*Math.cos(c.count/180*Math.PI),")"),c.ctx.shadowBlur=10,c.ctx.shadowColor="white",c.ctx.lineWidth=2,c.ctx.moveTo(c.pos.x-t,c.pos.y),c.ctx.lineTo(c.pos.x-e,c.pos.y+e),c.ctx.lineTo(c.pos.x,c.pos.y+t),c.ctx.lineTo(c.pos.x+e,c.pos.y+e),c.ctx.lineTo(c.pos.x+t,c.pos.y),c.ctx.lineTo(c.pos.x+e,c.pos.y-e),c.ctx.lineTo(c.pos.x,c.pos.y-t),c.ctx.lineTo(c.pos.x-e,c.pos.y-e),c.ctx.closePath(),c.ctx.fill(),c.ctx.stroke()},this.drawCircle=function(){c.ctx.beginPath(),c.ctx.fillStyle="rgba(255,0,0,".concat(.5*Math.cos(c.count/180*Math.PI),")"),c.ctx.arc(c.pos.x,c.pos.y,100*Math.tanh(c.count/10),0,2*Math.PI,!1),c.ctx.fill()},this.draw=function(){c.ctx.save(),c.drawLine(c.distanceL*Math.tanh(c.count/10),c.distanceS*Math.tanh(c.count/10)),c.drawCircle(),c.ctx.restore()},this.update=function(){c.count+=10},this.display=function(){c.update(),c.draw()},this.isDead=function(){return c.count>=180}},ka=function t(e,n){var c=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.max=15,this.side=100,this.count=0,this.opacity=0,this.rect=function(t,e){c.ctx.rect(t,e,c.side,c.side)},this.drawRect=function(){c.ctx.save(),c.ctx.beginPath(),c.ctx.lineWidth=10,c.ctx.strokeStyle="rgba(0,0,0,".concat(.3*c.opacity,")"),c.rect(c.pos.x-5*c.side/4,c.pos.y-c.side/2),c.rect(c.pos.x+1*c.side/4,c.pos.y-c.side/2),c.rect(c.pos.x-c.side/2,c.pos.y-5*c.side/4),c.rect(c.pos.x-c.side/2,c.pos.y+1*c.side/4),c.ctx.stroke(),c.ctx.restore()},this.circle=function(t,e){c.ctx.moveTo(t,e),c.ctx.arc(t,e,10,0,2*Math.PI,!1)},this.points=function(t,e){c.circle(c.pos.x-t,c.pos.y+e),c.circle(c.pos.x+t,c.pos.y+e),c.circle(c.pos.x-t,c.pos.y-e),c.circle(c.pos.x+t,c.pos.y-e)},this.drawCircle=function(){c.ctx.save(),c.ctx.beginPath(),c.ctx.fillStyle="rgba(0,0,0,".concat(.7*c.opacity,")"),c.points(5*c.side/4,c.side/2),c.points(c.side/4,c.side/2),c.points(c.side/2,5*c.side/4),c.points(c.side/2,c.side/4),c.ctx.fill(),c.ctx.restore()},this.rotate=function(){c.ctx.translate(c.pos.x,c.pos.y-c.side),c.ctx.rotate(Math.PI/4),c.ctx.rect(-c.side/4,c.side/4,3*c.side/2,3*c.side/2),c.ctx.rect(c.side/4,-c.side/4,3*c.side/2,3*c.side/2),c.ctx.stroke(),c.ctx.translate(-c.pos.x,-c.pos.y)},this.drawRotateRect=function(){c.ctx.save(),c.ctx.beginPath(),c.ctx.lineWidth=10,c.ctx.strokeStyle="rgba(0,0,0,".concat(.5*c.opacity,")"),c.rotate(),c.ctx.restore()},this.update=function(){c.count<=c.max&&c.count++},this.drawRedLight=function(){c.ctx.save(),c.ctx.beginPath(),c.ctx.fillStyle="rgba(255,255,255,".concat(.4*c.opacity,")"),c.ctx.shadowBlur=100,c.ctx.shadowColor="red",c.ctx.arc(c.pos.x,c.pos.y,50,0,2*Math.PI,!1),c.ctx.fill(),c.ctx.restore()},this.display=function(){c.update(),c.count<c.max/2?(c.drawRect(),c.drawCircle(),c.opacity+=.1):(c.drawRotateRect(),c.opacity-=.1),c.drawRedLight()},this.isDead=function(){return c.count>=c.max}},La=function t(e,n){var c=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.max=800,this.radius=0,this.opacityFill=0,this.opacityLine=0,this.color=[255,255,255],this.update=function(){c.radius<=c.max&&(c.radius+=c.max/20),c.radius<=c.max/4?c.opacityFill+=.1:c.radius<=c.max?c.opacityFill-=.05:c.opacityFill=0,c.radius<=c.max/2?c.opacityLine+=.02:c.radius<=c.max&&(c.opacityLine-=.01)},this.display=function(){c.update(),c.ctx.save(),c.ctx.beginPath(),c.ctx.fillStyle="rgba(".concat(c.color[0],",").concat(c.color[1],",").concat(c.color[2],",").concat(c.opacityFill,")"),c.ctx.lineWidth=10,c.ctx.strokeStyle="rgba(0,0,0,".concat(c.opacityLine,")"),c.ctx.shadowBlur=10,c.ctx.shadowColor="white",c.ctx.arc(c.pos.x,c.pos.y,c.radius,0,2*Math.PI,!1),c.ctx.fill(),c.ctx.stroke(),c.ctx.restore()},this.isDead=function(){return c.radius>=c.max}},Aa=(y=d=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(La),function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).color=[255,0,0],t}return n}(y)||d),Ta=function(t){switch(t){case"bubbleLine":return ja;case"fieldGravity":return Ea;case"fieldConfuse":return Ra;case"line":return Ma;case"particle":return Sa;case"ray":return Pa;case"shape":return ka;case"wave":return La;case"waveRed":return Aa;default:return function(t){return t}}},Ia=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).hasEffect=!0,t.applyEffect=function(e){e.getList.forEach((function(e){var n=e.pos;t.getList.forEach((function(t){var c=new Ic(t.pos.x,t.pos.y);c.sub(n),c.mag()<500&&(e.setVIndex=.5)}))}))},t}return n}(t)},Ca=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).hasEffect=!0,t.count=0,t.applyEffect=function(e){e.getList.forEach((function(e){var n=e.pos;t.getList.forEach((function(c){var a=new Ic(c.pos.x,c.pos.y);a.sub(n);var r=a.mag();if(Math.floor(t.count/10)%5<1){var o=c.getSoundEffect;o&&t.audio.play(o),r<500&&(e.setVIndex=-1)}}))})),t.count++},t}return n}(t)},Wa=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).hasEffect=!0,t.applyEffect=function(e){e.getList.forEach((function(e){var n=new Ic(e.pos.x,e.pos.y);t.getList.forEach((function(t){n.sub(t.pos),n.mag()<500&&(n.div(10),e.setA=n)}))}))},t}return n}(t)},za=function(t){switch(t){case"slow":return Ia;case"confuse":return Ca;case"push":return Wa;default:return function(t){return t}}},Da=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t,c){var a;return Object(Ac.a)(this,n),(a=e.call(this)).ctx=t,a.audio=c,a.list=[],a.hasEffect=!1,a.applyEffect=function(t){},a.display=function(t){a.list.forEach((function(e,n){a.hasEffect&&a.applyEffect(t),e.isDead()?a.remove(n):e.display()}))},a}return n}(Dc),Ha=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){return function(n){Object(kc.a)(a,n);var c=Object(Lc.a)(a);function a(n,r){var o;return Object(Ac.a)(this,a),(o=c.call(this)).ctx=n,o.audio=r,o.add=function(n,c){new Array(e).fill(0).forEach((function(e,a){return o.list.push(new t(o.ctx,n,c,a))}))},o}return a}(n)}},Na=function t(e,n){var c=this;Object(Ac.a)(this,t),this.ctx=e,this.audio=n,this.list=[],this.add=function(t,e){c.list.forEach((function(n){return n.add(t,e)}))},this.display=function(t){c.list.forEach((function(e){return e.display(t)}))}},Ba=function(t){return function(e){return function(e){Object(kc.a)(c,e);var n=Object(Lc.a)(c);function c(e,a){var r;return Object(Ac.a)(this,c),(r=n.call(this,e,a)).ctx=e,r.audio=a,r.list.push(new t(e,a)),r}return c}(e)}},Fa=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(t){var c;return Object(Ac.a)(this,n),(c=e.call(this)).ctx=t,c.list=[],c.display=function(t){c.list.forEach((function(e,n){e.display(t)}))},c}return n}(Dc),Ua=(x=Ha(Ta("waveRed")),x(b=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||b),Va=(v=Ha(Ta("wave")),v(w=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||w),qa=(g=Ha(Ta("bubbleLine")),g(m=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||m),Xa=(j=Ha(Ta("ray")),j(O=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||O),Ya=(_=Ha(Ta("shape")),_(E=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||E),Ga=(R=Ha(Ta("particle"),100),R(S=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||S),Ja=(M=Ha(Ta("line"),300),M(P=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||P),Ka=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).move=function(e,n){var c=new Ic(Math.cos(t.count/180*Math.PI),Math.sin(t.count/180*Math.PI));t.borderLimit(c,n),c.normalize(),c.mult(4*t.speed),t.pos.add(c)},t}return n}(t)},Qa=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).move=function(e,n){var c=new Ic(1.5*Math.cos(t.count/180*Math.PI),-Math.cos(t.count/180*Math.PI*2));t.borderLimit(c,n),c.mult(4*t.speed),t.pos.add(c)},t}return n}(t)},Za=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).v=new Ic(1,1),t.borderRebound=function(e,n){var c=t.borderCheck(e,n),a=c.xBorder,r=c.yBorder;a&&(e.x=-e.x),r&&(e.y=-e.y)},t.move=function(e,n){t.borderRebound(t.v,n),t.v.normalize(),t.v.mult(4*t.speed),t.pos.add(t.v)},t}return n}(t)},$a=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).move=function(e,n){var c=new Ic(Math.cos(t.count/180*Math.PI),0);t.borderLimit(c,n),c.mult(6*t.speed),t.pos.add(c)},t}return n}(t)},tr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).move=function(e,n){var c=new Ic(e.x,e.y);c.sub(t.pos),c.normalize(),c.mult(t.speed),c.add(t.getA),t.borderLimit(c,n);var a=new Ic(Math.cos(t.radian),Math.sin(t.radian));t.radian+=(a.getRadius(c)-Math.PI/2)/10,t.pos.add(c)},t}return n}(t)},er=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).move=function(e){var n=new Ic(e.x,e.y);n.sub(t.pos),n.normalize(),n.mult(t.speed);var c=new Ic(Math.cos(t.radian),Math.sin(t.radian));t.radian+=(c.getRadius(n)-Math.PI/2)/10},t}return n}(t)},nr=function(t){switch(t){case"sin":return $a;case"rebound":return Za;case"circleTwice":return Qa;case"circle":return Ka;case"follow":return tr;case"turnOnly":return er;default:return function(t){return t}}},cr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).color=[64,10,105],t.canDefect=!1,t}return n}(t)},ar=function(t){switch(t){case"invincible":return cr;default:return function(t){return t}}},rr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).speed=5,t.count=0,t.update=function(e){if(e){t.v=new Ic(e.x,e.y),t.v.sub(t.pos),t.v.normalize(),t.v.mult(t.speed);var n=new Ic(Math.cos(t.radian),Math.sin(t.radian));t.radian+=(n.getRadius(t.v)-Math.PI/2)/10,t.pos.add(t.v),t.count++,t.count>180&&(t.speed+=.5)}},t}return n}(t)},or=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).mag=30,t.update=function(){t.v=new Ic(t.mag*Math.sin(t.radian),-t.mag*Math.cos(t.radian)),t.pos.add(t.v)},t}return n}(t)},ir=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).setup=function(){t.v=new Ic(t.posTarget.x,t.posTarget.y),t.v.sub(t.pos),t.v.normalize(),t.v.mult(t.speed)},t.update=function(){t.pos.add(t.v)},t.setup(),t}return n}(t)},sr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).update=function(){t.v=new Ic(t.posTarget.x,t.posTarget.y),t.v.sub(t.pos),t.v.normalize(),t.v.mult(t.speed),t.pos.add(t.v),t.pos.dis(t.posTarget)<=10&&(t.life=0)},t}return n}(t)},ur=function(t){switch(t){case"normal":return ir;case"follow":return rr;case"direct":return or;case"target":return sr;default:return function(t){return t}}},lr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).color=[100,100,100],t.draw=function(){t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.arc(t.pos.x,t.pos.y,50,0,2*Math.PI,!1),t.ctx.fill()},t}return n}(t)},fr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).color=[50,50,50],t.count=0,t.life=2,t.draw=function(){t.ctx.save(),t.rotate(),t.ctx.beginPath(),t.ctx.fillStyle="rgba(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],",0.7)"),t.ctx.shadowBlur=100,t.ctx.shadowColor="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")");for(var e=0;e<360;e+=20){t.ctx.moveTo(t.pos.x,t.pos.y);for(var n=0;n<100;n++){var c=t.pos.x+Math.cos((t.count+e)/180*Math.PI*10)*n/2,a=t.pos.y+Math.sin((t.count+e)/180*Math.PI*10)*n/2;t.ctx.lineTo(c,a),t.count+=.1}t.count=0}t.ctx.fill(),t.ctx.restore(),t.radian+=.1},t}return n}(t)},hr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).color=[100,100,100],t}return n}(t)},pr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).color=[94,90,86],t.life=3,t.draw=function(){t.ctx.save(),t.rotate(),t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.moveTo(t.pos.x,t.pos.y),t.ctx.lineTo(t.pos.x-50,t.pos.y-50),t.ctx.lineTo(t.pos.x+50,t.pos.y-50),t.ctx.closePath(),t.ctx.moveTo(t.pos.x-25,t.pos.y-50-15),t.ctx.rect(t.pos.x-25,t.pos.y-50-15,50,10),t.ctx.moveTo(t.pos.x-25,t.pos.y-50-30),t.ctx.rect(t.pos.x-25,t.pos.y-50-30,50,10),t.ctx.fill(),t.ctx.restore()},t}return n}(t)},dr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).display=function(){var e=t.getSize,n=e.width,c=e.height;t.update(),t.fire(),t.ctx.save(),t.rotate(),t.ctx.beginPath(),t.ctx.fillStyle="whitesmoke",t.ctx.shadowBlur=20,t.ctx.shadowColor="whitesmoke",t.ctx.rect(t.pos.x-n/2,t.pos.y-t.yTop,n,c),t.ctx.fill(),t.ctx.restore()},t}return n}(t)},yr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).draw=function(){t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.arc(t.pos.x,t.pos.y,50,0,2*Math.PI,!1),t.ctx.fill()},t}return n}(t)},xr=$c,br=aa,vr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).life=3,t.sound=xr.src,t.soundExplode=br.src,t.color=[100,100,100],t.drawOuterBall=function(){t.ctx.beginPath(),t.ctx.strokeStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.lineWidth=3,t.ctx.fillStyle="rgba(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],",0.5)"),t.ctx.arc(t.pos.x,t.pos.y,50,0,2*Math.PI,!1),t.ctx.stroke(),t.ctx.fill()},t.drawInnerBall=function(){t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.arc(t.pos.x,t.pos.y,20,0,2*Math.PI,!1),t.ctx.fill()},t.drawLightning=function(){t.ctx.beginPath(),t.ctx.strokeStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.lineWidth=5;for(var e=0;e<20;e++){var n=50*Math.random(),c=2*Math.PI*Math.random(),a=n*Math.cos(c),r=n*Math.sin(c);t.ctx.moveTo(t.pos.x,t.pos.y),t.ctx.lineTo(t.pos.x+a,t.pos.y+r)}t.ctx.stroke()},t.draw=function(){t.drawOuterBall(),t.drawInnerBall(),t.drawLightning()},t}return n}(t)},wr=$c,gr=aa,mr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).life=3,t.sound=wr.src,t.soundExplode=gr.src,t.color=[100,100,100],t.count=0,t.draw=function(){t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.arc(t.pos.x,t.pos.y,25+5*Math.sin(t.count/5),0,2*Math.PI,!1),t.ctx.fill(),t.ctx.beginPath(),t.ctx.strokeStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.lineWidth=5,t.ctx.fillStyle="rgba(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],",0.5)"),t.ctx.arc(t.pos.x,t.pos.y,50,0,2*Math.PI,!1),t.ctx.fill(),t.ctx.stroke(),t.count++},t}return n}(t)},jr=$c,Or=aa,_r=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).life=3,t.sound=jr.src,t.soundExplode=Or.src,t.color=[100,100,100],t.drawOuterBall=function(){t.ctx.beginPath(),t.ctx.strokeStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.lineWidth=3,t.ctx.fillStyle="rgba(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],",0.5)"),t.ctx.arc(t.pos.x,t.pos.y,50,0,2*Math.PI,!1),t.ctx.stroke(),t.ctx.fill()},t.drawInnerBall=function(){t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.arc(t.pos.x,t.pos.y,20,0,2*Math.PI,!1),t.ctx.fill()},t.drawLightning=function(){t.ctx.beginPath(),t.ctx.strokeStyle="rgba(255,255,255,0.5)",t.ctx.lineWidth=5;for(var e=0;e<20;e++){var n=50*Math.random(),c=2*Math.PI*Math.random(),a=n*Math.cos(c),r=n*Math.sin(c);t.ctx.moveTo(t.pos.x,t.pos.y),t.ctx.lineTo(t.pos.x+a,t.pos.y+r)}t.ctx.stroke()},t.draw=function(){t.drawOuterBall(),t.drawInnerBall(),t.drawLightning()},t}return n}(t)},Er=function(t){switch(t){case"laser":return lr;case"magnetic":return fr;case"shockwave":return hr;case"arrow":return pr;case"rect":return dr;case"ball":return yr;case"gravityBall":return vr;case"explodeBall":return mr;case"lightningBall":return _r;default:return function(t){return t}}},Rr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).hasEffect=!0,t.force=10,t.applyEffect=function(e){e.getList.forEach((function(e){var n=e.pos,c=new Ic(t.pos.x,t.pos.y);c.sub(n);var a=c.mag();a<500&&(c.mult(t.force),c.div(a),e.setA=c)}))},t}return n}(t)},Sr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).speed=3,t}return n}(t)},Mr=(k=Ba(qa),k(L=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Na))||L),Pr=(A=Ha(Ta("fieldGravity")),T=za("slow"),A(I=T(I=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||I)||I),kr=(C=Ba(Pr),C(W=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Na))||W),Lr=(z=Ha(Ta("fieldConfuse")),D=za("confuse"),z(H=D(H=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||H)||H),Ar=(N=Ba(Lr),N(B=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Na))||B),Tr=(F=Ha(Ta("wave")),U=za("push"),F(V=U(V=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Da))||V)||V),Ir=(q=Ba(Tr),q(X=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Na))||X),Cr=function(t){return function(e){return function(e){Object(kc.a)(c,e);var n=Object(Lc.a)(c);function c(){var e;Object(Ac.a)(this,c);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).explodeEffect=function(){var n=new t(e.ctx,e.audio);n.add(e.pos,e.color),e.explodeEffects.add(n)},e}return c}(e)}},Wr=function(t){switch(t){case"normal":return Cr(Mr);case"slow":return Cr(kr);case"confuse":return Cr(Ar);case"shokcwave":return Cr(Ir);default:return function(t){return t}}},zr=(Y=Er("ball"),G=ur("normal"),J=Wr("normal"),Y(K=G(K=J(K=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||K)||K)||K),Dr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fireSpeed=10,t.fire=function(e){t.count%t.fireSpeed===0&&t.count%100<60&&t.bullet.add(new zr(t.ctx,new Ic(t.pos.x,t.pos.y),new Ic(e.x,e.y),t.explodeEffects,t.audio)),t.count++},t}return n}(t)},Hr=(Q=Er("ball"),Z=ur("normal"),$=Wr("normal"),Q(tt=Z(tt=$(tt=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||tt)||tt)||tt),Nr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fireSpeed=10,t.angleFire=Math.PI/180*30,t.fire=function(e){if(t.count%t.fireSpeed===0&&t.count%100<70){var n=new Ic(e.x,e.y),c=new Ic(e.x,e.y);c.sub(new Ic(t.pos.x,t.pos.y));var a=c.mag()*Math.sin(t.angleFire/2)*2,r=new Ic(e.x+Math.sin(t.angleFire)*a,e.y-Math.cos(t.angleFire)*a),o=new Ic(e.x-Math.sin(t.angleFire)*a,e.y+Math.cos(t.angleFire)*a);t.bullet.add(new Hr(t.ctx,new Ic(t.pos.x,t.pos.y),n,t.explodeEffects,t.audio)),t.bullet.add(new Hr(t.ctx,new Ic(t.pos.x,t.pos.y),r,t.explodeEffects,t.audio)),t.bullet.add(new Hr(t.ctx,new Ic(t.pos.x,t.pos.y),o,t.explodeEffects,t.audio))}t.count++},t}return n}(t)},Br=(et=Er("ball"),nt=ur("normal"),et(ct=nt(ct=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||ct)||ct),Fr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fire=function(){if(t.count%t.fireSpeed===0){var e=new Ic(t.pos.x+1,t.pos.y-1),n=new Ic(t.pos.x+1,t.pos.y+1),c=new Ic(t.pos.x-1,t.pos.y+1),a=new Ic(t.pos.x-1,t.pos.y-1);t.bullet.add(new Br(t.ctx,new Ic(t.pos.x,t.pos.y),e,t.explodeEffects,t.audio)),t.bullet.add(new Br(t.ctx,new Ic(t.pos.x,t.pos.y),n,t.explodeEffects,t.audio)),t.bullet.add(new Br(t.ctx,new Ic(t.pos.x,t.pos.y),c,t.explodeEffects,t.audio)),t.bullet.add(new Br(t.ctx,new Ic(t.pos.x,t.pos.y),a,t.explodeEffects,t.audio))}t.count++},t}return n}(t)},Ur=(at=Er("ball"),rt=ar("invincible"),ot=ur("normal"),it=Wr("normal"),at(st=rt(st=ot(st=it(st=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||st)||st)||st)||st),Vr=(ut=Er("ball"),lt=ur("normal"),ft=Wr("normal"),ut(ht=lt(ht=ft(ht=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||ht)||ht)||ht),qr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fireSpeed=10,t.countAngle=90,t.fire=function(e){if(t.count%t.fireSpeed===0){var n=t.countAngle+180*Math.random(),c=new Ic(t.pos.x+Math.cos(n/180*Math.PI),t.pos.y+Math.sin(n/180*Math.PI)),a=new Ic(t.pos.x+Math.cos((n+90)/180*Math.PI),t.pos.y+Math.sin((n+90)/180*Math.PI)),r=new Ic(t.pos.x+Math.cos((n+180)/180*Math.PI),t.pos.y+Math.sin((n+180)/180*Math.PI)),o=new Ic(t.pos.x+Math.cos((n+270)/180*Math.PI),t.pos.y+Math.sin((n+270)/180*Math.PI));t.bullet.add(new Vr(t.ctx,new Ic(t.pos.x,t.pos.y),c,t.explodeEffects,t.audio)),t.bullet.add(new Ur(t.ctx,new Ic(t.pos.x,t.pos.y),a,t.explodeEffects,t.audio)),t.bullet.add(new Vr(t.ctx,new Ic(t.pos.x,t.pos.y),r,t.explodeEffects,t.audio)),t.bullet.add(new Ur(t.ctx,new Ic(t.pos.x,t.pos.y),o,t.explodeEffects,t.audio)),t.countAngle+=10}t.count++},t}return n}(t)},Xr=(pt=Er("ball"),dt=ar("invincible"),yt=ur("normal"),xt=Wr("normal"),pt(bt=dt(bt=yt(bt=xt(bt=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||bt)||bt)||bt)||bt),Yr=(vt=Er("ball"),wt=ur("normal"),gt=Wr("normal"),vt(mt=wt(mt=gt(mt=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||mt)||mt)||mt),Gr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fireSpeed=10,t.countAngle=90,t.fire=function(e){if(t.count%t.fireSpeed===0){var n=new Ic(t.pos.x+Math.cos(t.countAngle/180*Math.PI),t.pos.y+Math.sin(t.countAngle/180*Math.PI)),c=new Ic(t.pos.x+Math.cos((t.countAngle+90)/180*Math.PI),t.pos.y+Math.sin((t.countAngle+90)/180*Math.PI)),a=new Ic(t.pos.x+Math.cos((t.countAngle+180)/180*Math.PI),t.pos.y+Math.sin((t.countAngle+180)/180*Math.PI)),r=new Ic(t.pos.x+Math.cos((t.countAngle+270)/180*Math.PI),t.pos.y+Math.sin((t.countAngle+270)/180*Math.PI));t.bullet.add(new Yr(t.ctx,new Ic(t.pos.x,t.pos.y),n,t.explodeEffects,t.audio)),t.bullet.add(new Xr(t.ctx,new Ic(t.pos.x,t.pos.y),c,t.explodeEffects,t.audio)),t.bullet.add(new Yr(t.ctx,new Ic(t.pos.x,t.pos.y),a,t.explodeEffects,t.audio)),t.bullet.add(new Xr(t.ctx,new Ic(t.pos.x,t.pos.y),r,t.explodeEffects,t.audio)),t.countAngle+=10}t.count++},t}return n}(t)},Jr=(jt=Er("arrow"),Ot=ur("follow"),_t=Wr("normal"),jt(Et=Ot(Et=_t(Et=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||Et)||Et)||Et),Kr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fire=function(e){t.count%t.fireSpeed===0&&t.bullet.add(new Jr(t.ctx,new Ic(t.pos.x,t.pos.y),new Ic(e.x,e.y),t.explodeEffects,t.audio)),t.count++},t}return n}(t)},Qr=(Rt=Er("gravityBall"),St=ur("target"),Mt=Wr("slow"),Rt(Pt=St(Pt=Mt(Pt=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||Pt)||Pt)||Pt),Zr=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fire=function(e){t.count%t.fireSpeed===0&&t.bullet.add(new Qr(t.ctx,new Ic(t.pos.x,t.pos.y),new Ic(e.x,e.y),t.explodeEffects,t.audio)),t.count++},t}return n}(t)},$r=(kt=Er("ball"),Lt=ur("normal"),At=Wr("normal"),kt(Tt=Lt(Tt=At(Tt=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||Tt)||Tt)||Tt),to=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fire=function(e){t.count%t.fireSpeed===0&&t.bullet.add(new $r(t.ctx,new Ic(t.pos.x,t.pos.y),new Ic(e.x,e.y),t.explodeEffects,t.audio)),t.count++},t}return n}(t)},eo=(It=Er("magnetic"),Ct=function(t){switch(t){case"magnetic":return Rr;default:return function(t){return t}}}("magnetic"),Wt=ur("normal"),zt=function(t){switch(t){case"slow":return Sr;default:return function(t){return t}}}("slow"),Dt=Wr("normal"),It(Ht=Ct(Ht=Wt(Ht=zt(Ht=Dt(Ht=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||Ht)||Ht)||Ht)||Ht)||Ht),no=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fire=function(e){t.count%t.fireSpeed===0&&t.bullet.add(new eo(t.ctx,new Ic(t.pos.x,t.pos.y),new Ic(e.x,e.y),t.explodeEffects,t.audio)),t.count++},t}return n}(t)},co=(Nt=Er("lightningBall"),Bt=ur("target"),Ft=Wr("confuse"),Nt(Ut=Bt(Ut=Ft(Ut=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||Ut)||Ut)||Ut),ao=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fire=function(e){t.count%t.fireSpeed===0&&t.bullet.add(new co(t.ctx,new Ic(t.pos.x,t.pos.y),new Ic(e.x,e.y),t.explodeEffects,t.audio)),t.count++},t}return n}(t)},ro=(Vt=Er("explodeBall"),qt=ur("target"),Xt=Wr("shokcwave"),Vt(Yt=qt(Yt=Xt(Yt=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ba))||Yt)||Yt)||Yt),oo=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fire=function(e){t.count%t.fireSpeed===0&&t.bullet.add(new ro(t.ctx,new Ic(t.pos.x,t.pos.y),new Ic(e.x,e.y),t.explodeEffects,t.audio)),t.count++},t}return n}(t)},io=function(t){switch(t){case"quick":return Dr;case"quickScatter":return Nr;case"fixedScatter":return Fr;case"random":return qr;case"scatter":return Gr;case"follow":return Kr;case"slow":return Zr;case"normal":return to;case"magnetic":return no;case"confuse":return ao;case"shockwave":return oo;default:return function(t){return t}}},so=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).width=t.isProtected?200:50,t.height=t.isProtected?200:100,t.life=5,t.gravity=5,t.draw=function(){t.ctx.save(),t.rotate(),t.ctx.beginPath(),t.ctx.fillStyle="rgba(94,90,86,".concat(t.opacity,")"),t.ctx.rect(t.pos.x-t.width/2,t.pos.y-t.height/2,t.width,t.height/2),t.ctx.moveTo(t.pos.x-t.width/2,t.pos.y+5),t.ctx.lineTo(t.pos.x+t.width/2,t.pos.y+5),t.ctx.lineTo(t.pos.x,t.pos.y+t.height/2),t.ctx.closePath(),t.ctx.fill(),t.isProtected&&t.protection.update(t.pos),t.ctx.restore()},t}return n}(t)},uo=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).radian=Math.PI/4,t.width=80,t.height=80,t.draw=function(){t.ctx.save(),t.rotate(),t.ctx.beginPath(),t.ctx.fillStyle="rgba(94,90,86,".concat(t.opacity,")"),t.ctx.rect(t.pos.x-t.width/2,t.pos.y-t.height/2,t.width,t.height),t.ctx.fill(),t.isProtected&&t.protection.update(t.pos),t.ctx.restore()},t}return n}(t)},lo=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).draw=function(){t.ctx.save(),t.rotate(),t.ctx.beginPath(),t.ctx.fillStyle="rgba(94,90,86,".concat(t.opacity,")"),t.ctx.arc(t.pos.x,t.pos.y,t.radius,0,2*Math.PI,!1),t.ctx.fill(),t.ctx.restore()},t}return n}(t)},fo=function(t){switch(t){case"guard":return so;case"block":return uo;case"core":return lo;default:return function(t){return t}}},ho=function(t){switch(t){case"protection":return Nc;default:return function(t){return t}}},po=(Gt=Ba(Ga),Jt=Ba(Va),Kt=Ba(Ya),Gt(Qt=Jt(Qt=Kt(Qt=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Na))||Qt)||Qt)||Qt),yo=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).explodeEffect=function(){var e=new po(t.ctx);e.add(t.pos),t.explodeEffects.add(e)},t}return n}(t)},xo=function(t){switch(t){case"normal":return yo;default:return function(t){return t}}},bo=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).angleRatio=3,t.move=function(e,n){t.v.mult(t.vIndex),t.v.add(t.a);var c=t.borderCheck(t.v,n),a=c.xBorder,r=c.yBorder;a&&(t.v.x=0),r&&(t.v.y=0),t.pos.add(t.v),t.radian+=e/180*Math.PI*t.angleRatio,t.angle+=e*t.angleRatio},t}return n}(t)},vo=(Zt=Er("rect"),$t=ur("direct"),Zt(te=$t(te=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(xa))||te)||te),wo=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).fire=function(){t.bullets.add(new vo(t.ctx,new Ic(t.pos.x,t.pos.y),t.angle,t.audio))},t}return n}(t)},go=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).xBorder=25,t.yBorder=10,t.xLine=18,t.yLine=15,t.holeR=10,t.wingX=30,t.wingY=30,t.wingSize=10,t.drawLeftWing=function(){t.ctx.beginPath(),t.ctx.rect(t.pos.x-t.wingX-t.wingSize/2,t.pos.y+t.wingY-t.wingSize/2,t.wingSize,t.wingSize),t.ctx.fill()},t.drawRightWing=function(){t.ctx.beginPath(),t.ctx.rect(t.pos.x+t.wingX-t.wingSize/2,t.pos.y+t.wingY-t.wingSize/2,t.wingSize,t.wingSize),t.ctx.fill()},t.drawLineMain=function(){t.ctx.beginPath(),t.ctx.strokeStyle="grey",t.ctx.moveTo(t.pos.x-t.xLine,t.pos.y-t.yLine),t.ctx.lineTo(t.pos.x,t.pos.y),t.ctx.moveTo(t.pos.x+t.xLine,t.pos.y-t.yLine),t.ctx.lineTo(t.pos.x,t.pos.y),t.ctx.stroke()},t.drawLineLeft=function(){t.ctx.beginPath(),t.ctx.strokeStyle="grey",t.ctx.moveTo(t.pos.x-t.xLine,t.pos.y-t.yLine),t.ctx.lineTo(t.pos.x,t.pos.y),t.ctx.moveTo(t.pos.x,t.pos.y+t.yBottom),t.ctx.lineTo(t.pos.x,t.pos.y),t.ctx.stroke()},t.drawLineRight=function(){t.ctx.beginPath(),t.ctx.strokeStyle="grey",t.ctx.moveTo(t.pos.x+t.xLine,t.pos.y-t.yLine),t.ctx.lineTo(t.pos.x,t.pos.y),t.ctx.moveTo(t.pos.x,t.pos.y+t.yBottom),t.ctx.lineTo(t.pos.x,t.pos.y),t.ctx.stroke()},t.drawMainBody=function(){t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.moveTo(t.pos.x,t.pos.y-t.yTop),t.ctx.lineTo(t.pos.x-t.xLine,t.pos.y-t.yLine),t.ctx.lineTo(t.pos.x,t.pos.y),t.ctx.lineTo(t.pos.x+t.xLine,t.pos.y-t.yLine),t.ctx.closePath(),t.ctx.fill(),t.drawLineMain()},t.drawLeftBody=function(){t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.moveTo(t.pos.x,t.pos.y),t.ctx.lineTo(t.pos.x-t.xLine,t.pos.y-t.yLine),t.ctx.lineTo(t.pos.x-t.xBorder,t.pos.y+t.yBorder),t.ctx.lineTo(t.pos.x,t.pos.y+t.yBottom),t.ctx.closePath(),t.ctx.fill(),t.drawLeftWing(),t.drawLineLeft()},t.drawRightBody=function(){t.ctx.beginPath(),t.ctx.fillStyle="rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")"),t.ctx.moveTo(t.pos.x,t.pos.y),t.ctx.lineTo(t.pos.x+t.xLine,t.pos.y-t.yLine),t.ctx.lineTo(t.pos.x+t.xBorder,t.pos.y+t.yBorder),t.ctx.lineTo(t.pos.x,t.pos.y+t.yBottom),t.ctx.closePath(),t.ctx.fill(),t.drawRightWing(),t.drawLineRight()},t.drawHole=function(){t.ctx.beginPath(),t.ctx.fillStyle="black",t.ctx.moveTo(t.pos.x,t.pos.y),t.ctx.arc(t.pos.x,t.pos.y,t.holeR,0,2*Math.PI,!1),t.ctx.fill()},t.drawHit=function(){t.ctx.save(),t.ctx.beginPath(),t.ctx.strokeStyle="rgba(255,255,255, ".concat(1-.05*t.hitWaveRadius,")"),t.ctx.lineWidth=100,t.ctx.shadowColor="lightgrey",t.ctx.shadowBlur=10,t.ctx.arc(t.pos.x,t.pos.y,13*t.hitWaveRadius,0,2*Math.PI,!1),t.ctx.stroke(),t.ctx.restore(),t.ctx.save(),t.ctx.beginPath(),t.ctx.fillStyle="rgba(255,0,0, ".concat(.8-Math.tanh(.05*t.hitWaveRadius),")"),t.ctx.moveTo(t.pos.x,t.pos.y),t.ctx.arc(t.pos.x,t.pos.y,150*Math.tanh(.1*t.hitWaveRadius),0,2*Math.PI,!1),t.ctx.fill(),t.ctx.restore(),t.ctx.beginPath();var e=function(e,n){return t.damagePeriodTime>e?n-Math.tanh(t.hitWaveRadius*n/10)*n:Math.tanh(t.hitWaveRadius*n/10)*n},n=e(500,.5),c=e(500,.2);t.ctx.strokeStyle="rgba(0,0,0,".concat(n,")"),t.ctx.fillStyle="rgba(0,0,0, ".concat(c,")"),t.ctx.lineWidth=5,t.ctx.arc(t.pos.x,t.pos.y,150*Math.tanh(.1*t.hitWaveRadius),0,2*Math.PI,!1),t.ctx.fill(),t.ctx.stroke(),t.hitWaveRadius++},t.draw=function(){t.ctx.save(),t.rotate(),t.drawMainBody(),t.life>=2&&t.drawRightBody(),t.life>=3&&t.drawLeftBody(),t.hitWave&&t.drawHit(),t.drawHole(),t.ctx.restore()},t}return n}(t)},mo=(ee=Ba(Ga),ne=Ba(Ua),ce=Ba(Ja),ae=Ba(Xa),ee(re=ne(re=ce(re=ae(re=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(Na))||re)||re)||re)||re),jo=function(t){return function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){var t;Object(Ac.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).explodeEffect=function(){var e=new mo(t.ctx);e.add(t.pos),t.explodeEffects.add(e)},t}return n}(t)},Oo=(oe=function(t){switch(t){case"plane":return go;default:return function(t){return t}}}("plane"),ie=function(t){switch(t){case"free":return bo;default:return function(t){return t}}}("free"),se=function(t){switch(t){case"normal":return wo;default:return function(t){return t}}}("normal"),ue=function(t){switch(t){case"normal":return jo;default:return function(t){return t}}}("normal"),oe(le=ie(le=se(le=ue(le=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(ha))||le)||le)||le)||le),_o=(fe=nr("follow"),he=io("normal"),pe=fo("core"),de=xo("normal"),fe(ye=he(ye=pe(ye=de(ye=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||ye)||ye)||ye)||ye),Eo={profile:"./img/stage/0.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:_o,x:.5,y:.1}]},Ro=Eo,So=(xe=nr("circle"),be=io("normal"),ve=fo("core"),we=xo("normal"),xe(ge=be(ge=ve(ge=we(ge=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||ge)||ge)||ge)||ge),Mo={profile:"./img/stage/0.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:So,x:.5,y:.1}]},Po=Mo,ko=(me=nr("sin"),je=io("normal"),Oe=fo("core"),_e=xo("normal"),me(Ee=je(Ee=Oe(Ee=_e(Ee=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Ee)||Ee)||Ee)||Ee),Lo={profile:"./img/stage/0.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:ko,x:.5,y:.3}]},Ao=Lo,To=(Re=nr("circleTwice"),Se=io("normal"),Me=fo("core"),Pe=xo("normal"),Re(ke=Se(ke=Me(ke=Pe(ke=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||ke)||ke)||ke)||ke),Io={profile:"./img/stage/0.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:To,x:.5,y:.3}]},Co=Io,Wo=(Le=nr("rebound"),Ae=io("normal"),Te=fo("core"),Ie=xo("normal"),Le(Ce=Ae(Ce=Te(Ce=Ie(Ce=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Ce)||Ce)||Ce)||Ce),zo={profile:"./img/stage/0.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:Wo,x:.5,y:.3}]},Do=zo,Ho=(We=nr("follow"),ze=io("normal"),De=ho("protection"),He=fo("core"),Ne=xo("normal"),We(Be=ze(Be=De(Be=He(Be=Ne(Be=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Be)||Be)||Be)||Be)||Be),No=(Fe=nr("follow"),Ue=io("normal"),Ve=fo("guard"),qe=xo("normal"),Fe(Xe=Ue(Xe=Ve(Xe=qe(Xe=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Xe)||Xe)||Xe)||Xe),Bo={profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:Ho,x:.5,y:.1},{type:No,x:.7,y:.2},{type:No,x:.3,y:.2}]},Fo=Bo,Uo=(Ye=nr("follow"),Ge=io("normal"),Je=ho("protection"),Ke=fo("core"),Qe=xo("normal"),Ye(Ze=Ge(Ze=Je(Ze=Ke(Ze=Qe(Ze=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Ze)||Ze)||Ze)||Ze)||Ze),Vo=($e=nr("follow"),tn=io("normal"),en=fo("guard"),nn=xo("normal"),$e(cn=tn(cn=en(cn=nn(cn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||cn)||cn)||cn)||cn),qo=(an=fo("block"),rn=io("fixedScatter"),on=xo("normal"),an(sn=rn(sn=on(sn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||sn)||sn)||sn),Xo={profile:"./img/stage/2.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:Uo,x:.5,y:.1},{type:Vo,x:.7,y:.2},{type:Vo,x:.3,y:.2},{type:qo,x:.6,y:.3},{type:qo,x:.4,y:.3}]},Yo=Xo,Go=(un=nr("follow"),ln=io("quick"),fn=ho("protection"),hn=fo("core"),pn=xo("normal"),un(dn=ln(dn=fn(dn=hn(dn=pn(dn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||dn)||dn)||dn)||dn)||dn),Jo=(yn=nr("follow"),xn=io("normal"),bn=fo("guard"),vn=xo("normal"),yn(wn=xn(wn=bn(wn=vn(wn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||wn)||wn)||wn)||wn),Ko={profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:Go,x:.5,y:.1},{type:Jo,x:.7,y:.2},{type:Jo,x:.3,y:.2}]},Qo=Ko,Zo=(gn=nr("follow"),mn=io("quickScatter"),jn=ho("protection"),On=fo("core"),_n=xo("normal"),gn(En=mn(En=jn(En=On(En=_n(En=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||En)||En)||En)||En)||En),$o=(Rn=nr("follow"),Sn=io("normal"),Mn=fo("guard"),Pn=xo("normal"),Rn(kn=Sn(kn=Mn(kn=Pn(kn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||kn)||kn)||kn)||kn),ti={profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:Zo,x:.5,y:.1},{type:$o,x:.7,y:.2},{type:$o,x:.3,y:.2}]},ei=ti,ni=(Ln=nr("follow"),An=io("random"),Tn=ho("protection"),In=fo("core"),Cn=xo("normal"),Ln(Wn=An(Wn=Tn(Wn=In(Wn=Cn(Wn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Wn)||Wn)||Wn)||Wn)||Wn),ci=(zn=nr("follow"),Dn=io("normal"),Hn=fo("guard"),Nn=xo("normal"),zn(Bn=Dn(Bn=Hn(Bn=Nn(Bn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Bn)||Bn)||Bn)||Bn),ai={profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:ni,x:.5,y:.1},{type:ci,x:.7,y:.2},{type:ci,x:.3,y:.2}]},ri=ai,oi=(Fn=nr("follow"),Un=io("scatter"),Vn=ho("protection"),qn=fo("core"),Xn=xo("normal"),Fn(Yn=Un(Yn=Vn(Yn=qn(Yn=Xn(Yn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Yn)||Yn)||Yn)||Yn)||Yn),ii=(Gn=nr("follow"),Jn=io("follow"),Kn=fo("guard"),Qn=xo("normal"),Gn(Zn=Jn(Zn=Kn(Zn=Qn(Zn=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Zn)||Zn)||Zn)||Zn),si={profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:oi,x:.5,y:.1},{type:ii,x:.7,y:.2},{type:ii,x:.3,y:.2}]},ui=si,li=($n=nr("follow"),tc=io("scatter"),ec=ho("protection"),nc=fo("core"),cc=xo("normal"),$n(ac=tc(ac=ec(ac=nc(ac=cc(ac=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||ac)||ac)||ac)||ac)||ac),fi=(rc=nr("follow"),oc=io("slow"),ic=fo("guard"),sc=xo("normal"),rc(uc=oc(uc=ic(uc=sc(uc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||uc)||uc)||uc)||uc),hi={profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:li,x:.5,y:.1},{type:fi,x:.7,y:.2},{type:fi,x:.3,y:.2}]},pi=hi,di=nr("follow")(lc=io("scatter")(lc=ho("protection")(lc=fo("core")(lc=xo("normal")(lc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||lc)||lc)||lc)||lc)||lc,yi=nr("follow")(fc=fo("guard")(fc=io("magnetic")(fc=xo("normal")(fc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||fc)||fc)||fc)||fc,xi={profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:di,x:.5,y:.1},{type:yi,x:.7,y:.2},{type:yi,x:.3,y:.2}]},bi=nr("follow")(hc=io("scatter")(hc=ho("protection")(hc=fo("core")(hc=xo("normal")(hc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||hc)||hc)||hc)||hc)||hc,vi=nr("follow")(pc=fo("guard")(pc=io("confuse")(pc=xo("normal")(pc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||pc)||pc)||pc)||pc,wi={profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:bi,x:.5,y:.1},{type:vi,x:.7,y:.2},{type:vi,x:.3,y:.2}]},gi=nr("follow")(dc=io("scatter")(dc=ho("protection")(dc=fo("core")(dc=xo("normal")(dc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||dc)||dc)||dc)||dc)||dc,mi=nr("follow")(yc=fo("guard")(yc=io("shockwave")(yc=xo("normal")(yc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||yc)||yc)||yc)||yc,ji=[Ro,Po,Ao,Co,Do,Fo,Yo,Qo,ei,ri,ui,pi,xi,wi,{profile:"./img/stage/1.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:1,hSRatio:1,wWRatio:2,hWRatio:2},players:[{type:Oo,x:.5,y:.6}],enemys:[{type:gi,x:.5,y:.1},{type:mi,x:.7,y:.2},{type:mi,x:.3,y:.2}]},{profile:"./img/stage/3.jpg",map:{xSRatio:.5,ySRatio:.5,wSRatio:2,hSRatio:2,wWRatio:3,hWRatio:3},players:[{type:Oo,x:.5,y:.8}],enemys:[]}],Oi=[nr("follow")(xc=io("normal")(xc=fo("core")(xc=xo("normal")(xc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||xc)||xc)||xc)||xc,nr("follow")(bc=io("normal")(bc=fo("guard")(bc=xo("normal")(bc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||bc)||bc)||bc)||bc,nr("follow")(vc=io("fixedScatter")(vc=fo("core")(vc=xo("normal")(vc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||vc)||vc)||vc)||vc,nr("follow")(wc=io("quick")(wc=fo("core")(wc=xo("normal")(wc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||wc)||wc)||wc)||wc,nr("follow")(gc=io("quickScatter")(gc=fo("core")(gc=xo("normal")(gc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||gc)||gc)||gc)||gc,nr("follow")(mc=io("random")(mc=fo("core")(mc=xo("normal")(mc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||mc)||mc)||mc)||mc,nr("follow")(jc=io("scatter")(jc=fo("core")(jc=xo("normal")(jc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||jc)||jc)||jc)||jc,nr("follow")(Oc=io("slow")(Oc=fo("guard")(Oc=xo("normal")(Oc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Oc)||Oc)||Oc)||Oc,nr("follow")(_c=fo("guard")(_c=io("magnetic")(_c=xo("normal")(_c=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||_c)||_c)||_c)||_c,nr("follow")(Ec=fo("guard")(Ec=io("confuse")(Ec=xo("normal")(Ec=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Ec)||Ec)||Ec)||Ec,nr("follow")(Rc=fo("guard")(Rc=io("shockwave")(Rc=xo("normal")(Rc=function(t){Object(kc.a)(n,t);var e=Object(Lc.a)(n);function n(){return Object(Ac.a)(this,n),e.apply(this,arguments)}return n}(sa))||Rc)||Rc)||Rc)||Rc],_i=function(t,e,n){return t<e?e:t>n?n:t},Ei=function(t,e,n){return function(t,e,n){for(var c=[],a=0;a<e;a++)c.push(new wa(t,new Ic(100*a,0))),c.push(new wa(t,new Ic(100*a,100*(n-1))));for(var r=0;r<n;r++)c.push(new wa(t,new Ic(0,100*r))),c.push(new wa(t,new Ic(100*(e-1),100*r)));return c}(t,Math.floor(e*ts/100),Math.floor(n*ts/100))},Ri=function(t,e,n,c,r,o){var s=Object(i.useRef)(null),u=function(t){var e=Object(i.useRef)(t);return Object(i.useEffect)((function(){e.current=t}),[t]),{stateRef:e}}(n).stateRef,f=Object(i.useState)(!1),h=Object(l.a)(f,2),p=h[0],d=h[1],y=Object(i.useState)(a.play),x=Object(l.a)(y,2),b=x[0],v=x[1],w=Object(i.useRef)(!1),g=As();return function(t,e){var n=Object(i.useRef)(0);Object(i.useEffect)((function(){var c=0;return t.fire?n.current=requestAnimationFrame((function t(){e.current&&c%7===0&&e.current.fire(),c++,n.current=requestAnimationFrame(t)})):cancelAnimationFrame(n.current),function(){return cancelAnimationFrame(n.current)}}),[t.fire])}(n,s),Object(i.useEffect)((function(){w.current&&b===a.success&&setTimeout((function(){var t;null===(t=g.current)||void 0===t||t.play(Jc.src)}),700)}),[w.current]),Object(i.useEffect)((function(){var n;if(t.current&&c){var i=t.current.getContext("2d");if(!i)return;var l=e.width,f=e.height,h=ji[r.current].map,p=h.xSRatio,d=h.ySRatio,y=h.wSRatio,x=h.hSRatio,b=h.wWRatio,m=h.hWRatio,j=new ma(i,new Ic(l*ts*p,f*ts*d),l*ts*y,f*ts*x,l*ts*b,f*ts*m,l*ts,f*ts),O=j.getSize,_=O.left,E=O.top,R=O.sWidth,S=O.sHeight,M=(Ei(i,l,f),new va(i)),P=new va(i),k=new Fa(i),L=new pa;ji[r.current].players.forEach((function(t,e){var n=new t.type(i,new Ic(_+t.x*R,E+t.y*S),0,k,P,g.current);0===e&&(s.current=n),L.add(n)}));var A=new ua,T=r.current===ji.length-1,I=function(t){for(var e=A.getList.length,n=0;n<t-e;n++){var c=Math.floor(Math.random()*Oi.length);A.add(new Oi[c](i,new Ic(_+.5*R,E+.5*S),0,k,M,g.current))}};T?I(3):ji[r.current].enemys.forEach((function(t){return A.add(new t.type(i,new Ic(_+t.x*R,E+t.y*S),0,k,M,g.current))}));var C=new Ic(0,0);n=requestAnimationFrame((function e(){if(u.current.isPause)return n=requestAnimationFrame(e);!function(t,e,n,c,a,r){t.setTransform(1,0,0,1,0,0),a.current&&(a.current.width=a.current.width);var o=r.getSize,i=o.left,s=o.right,u=o.top,l=o.bottom,f=o.vWidth,h=o.vHeight,p=o.wWidth,d=o.wHeight;e.current&&t.translate(-_i(e.current.pos.x-f/2,-i,s-(p-s<f/2?f:p-s)),-_i(e.current.pos.y-h/2,-u,l-(d-l<h/2?h:d-l))),n.x=c.x,n.y=c.y}(i,s,C,u.current.pos,t,j),j.display(),T&&I(3),L.update(C,u.current.angle,A,j),!w.current&&o&&(T&&s.current.isDead()?(w.current=!0,v(a.fail)):A.getList.length&&!s.current.isDead()||(w.current=!0,v(A.getList.length?a.fail:a.success)),A.getList.forEach((function(t){return t.update(s.current.pos,j,A.getList)})),P.update([A,M],j)),M.getList.forEach((function(t){return t.update(s.current.pos)})),M.update([L,P],j),A.update(),k.display(L),n=requestAnimationFrame(e)}))}return function(){return cancelAnimationFrame(n)}}),[t.current,c,p,o]),{result:b,setResult:v,setRefresh:d,isEndRef:w}},Si=n(7),Mi=n.n(Si),Pi=n(9),ki=function(t){return new Promise((function(e){return setTimeout((function(){e(!0)}),t)}))},Li=function(t){var e=Object(i.useState)(0),n=Object(l.a)(e,2),c=n[0],a=n[1],r=Object(i.useState)(!1),o=Object(l.a)(r,2),s=o[0],u=o[1],f=Math.floor(c/(t.audio.length+t.img.length)*100);return Object(i.useEffect)((function(){t.audio.forEach((function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.onload=function(t){a((function(t){return t+1}))},e.send()})),t.img.forEach((function(t){var e=new Image;e.src=t,e.onload=function(){a((function(t){return t+1}))}}))}),[]),Object(i.useEffect)((function(){c===t.audio.length+t.img.length&&setTimeout((function(){u(!0)}),1e3)}),[c]),{percent:f,isStart:s}},Ai=function(t){var e=Object(i.useState)({width:0,height:0}),n=Object(l.a)(e,2),c=n[0],a=n[1];return Object(i.useEffect)((function(){t.current&&a({width:t.current.offsetWidth,height:t.current.offsetHeight})}),[t.current]),{size:c}},Ti=function t(){var e=this;Object(Ac.a)(this,t),this.bufferArr=[],this.context=new AudioContext,this.store=function(t,n,c,a){var r=e.context.createGain();r.gain.value=n,r.connect(e.context.destination);var o=e.context.createBufferSource();o.buffer=t,o.connect(r),c&&(o.loop=!0,o.loopStart=c,o.loopEnd=a||t.duration);var i=e.bufferArr.length;e.bufferArr.push(o),o.start(0),o.onended=function(){e.bufferArr.splice(i,1)}},this.play=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(t){e.context.decodeAudioData(r.response,(function(t){return e.store(t,n,c,a)}))},r.send()},this.clear=function(){e.bufferArr.forEach((function(t){return t.disconnect()})),e.bufferArr.length=0}},Ii=function(t){var e=Object(i.useState)(!1),n=Object(l.a)(e,2),c=n[0],a=n[1];return Object(i.useEffect)((function(){localStorage.getItem(t)?a(!0):localStorage.setItem(t,"visited")}),[]),{visited:c,setVisited:a}},Ci=n(6),Wi={pos:{x:0,y:0},angle:0,fire:!1,isPause:!1},zi=function(t,e){switch(e.type){case"top":return Object(Ci.a)(Object(Ci.a)({},t),{},{pos:Object(Ci.a)(Object(Ci.a)({},t.pos),{},{y:-1})});case"down":return Object(Ci.a)(Object(Ci.a)({},t),{},{pos:Object(Ci.a)(Object(Ci.a)({},t.pos),{},{y:1})});case"left":return Object(Ci.a)(Object(Ci.a)({},t),{},{pos:Object(Ci.a)(Object(Ci.a)({},t.pos),{},{x:-1})});case"right":return Object(Ci.a)(Object(Ci.a)({},t),{},{pos:Object(Ci.a)(Object(Ci.a)({},t.pos),{},{x:1})});case"init":return Object(Ci.a)(Object(Ci.a)({},t),{},{pos:{x:0,y:0},angle:0,fire:!1});case"turnLeft":return Object(Ci.a)(Object(Ci.a)({},t),{},{angle:-1});case"turnRight":return Object(Ci.a)(Object(Ci.a)({},t),{},{angle:1});case"fire":return Object(Ci.a)(Object(Ci.a)({},t),{},{fire:!t.fire});case"isPause":return Object(Ci.a)(Object(Ci.a)({},t),{},{isPause:!t.isPause});default:return t}},Di={audio:["./media/player_shoot.wav","./media/player_explode.wav","./media/player_hit.wav","./media/enemy_shoot.wav","./media/enemy_explode0.wav","./media/core_hit_shield.wav","./media/enemy_hit.wav","./media/success.ogg","./media/stop.ogg","./media/start.ogg","./media/bg.mp3","./media/menu.ogg","./media/electric.ogg","./media/electronic.ogg"],img:[]},Hi=n(5),Ni=n.n(Hi),Bi=function(t){var e=t.isHiding;return s.a.createElement("div",{className:"".concat(Ni.a.root," ").concat(e?Ni.a.hide:Ni.a.show)},s.a.createElement("div",{className:"".concat(Ni.a.content," ").concat(Ni.a.menu)},s.a.createElement("div",{className:Ni.a.keyArea},s.a.createElement("div",{className:Ni.a.key},"W"),s.a.createElement("div",{className:Ni.a.key},"S")),s.a.createElement("p",null,"Up/Down"),s.a.createElement("div",{className:Ni.a.keyArea},s.a.createElement("div",{className:Ni.a.key},"SPACE")),s.a.createElement("p",null,"Enter"),s.a.createElement("div",{className:Ni.a.keyArea},s.a.createElement("div",{className:Ni.a.key},"P")),s.a.createElement("p",null,"Cancel")))},Fi=function(t){var e=t.isHiding;return s.a.createElement("div",{className:"".concat(Ni.a.root," ").concat(e?Ni.a.hide:Ni.a.show)},s.a.createElement("div",{className:"".concat(Ni.a.content," ").concat(Ni.a.game)},s.a.createElement("div",{className:Ni.a.keyArea},s.a.createElement("div",{className:Ni.a.key},"W"),s.a.createElement("div",{className:Ni.a.key},"S"),s.a.createElement("div",{className:Ni.a.key},"A"),s.a.createElement("div",{className:Ni.a.key},"D")),s.a.createElement("p",null,"Up/Down/Left/Right"),s.a.createElement("div",{className:Ni.a.keyArea},s.a.createElement("div",{className:Ni.a.key},"J"),s.a.createElement("div",{className:Ni.a.key},"K")),s.a.createElement("p",null,"Turn Left/Right"),s.a.createElement("div",{className:Ni.a.keyArea},s.a.createElement("div",{className:Ni.a.keyText},"HOLD"),s.a.createElement("div",{className:Ni.a.key},"SPACE")),s.a.createElement("p",null,"Fire"),s.a.createElement("div",{className:Ni.a.keyArea},s.a.createElement("div",{className:Ni.a.key},"P")),s.a.createElement("p",null,"Pause/Cancel")))},Ui=function(t){var e=t.type,n=t.isHiding;return"menu"===e?s.a.createElement(Bi,{isHiding:n}):s.a.createElement(Fi,{isHiding:n})},Vi=n(23),qi=n.n(Vi),Xi=function(t){var e=t.changeScene,n=t.size,c=t.ratio,a=Object(i.useRef)(null);return function(t,e,n){Object(i.useEffect)((function(){var c;if(t.current&&e){var a=t.current.getContext("2d");if(!a)return;var r=n.width,o=n.height,i=new ga(a,r*ts,o*ts);c=requestAnimationFrame((function t(){if(!e)return cancelAnimationFrame(c);a.clearRect(0,0,r*ts,o*ts),i.display(),c=requestAnimationFrame(t)}))}return function(){return cancelAnimationFrame(c)}}),[t.current,e])}(a,e,n),e?s.a.createElement("canvas",{className:qi.a.cover,ref:a,style:{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")},width:n.width*c,height:n.height*c}):null},Yi=n(10),Gi=n.n(Yi),Ji=function(t){var e=t.title,n=t.op1,c=t.op2;return s.a.createElement("div",{className:Gi.a.block},s.a.createElement("div",{className:Gi.a.container},s.a.createElement("p",{className:Gi.a.title},e),s.a.createElement("div",{className:Gi.a.option},s.a.createElement("p",{className:Gi.a.btn},n.key)),s.a.createElement("p",null,n.text),s.a.createElement("div",{className:Gi.a.option},s.a.createElement("p",{className:Gi.a.btn},c.key)),s.a.createElement("p",null,c.text)))},Ki=n(12),Qi=n.n(Ki),Zi=function(t){var e=t.isStart,n=t.percent,c=t.size;return e?null:s.a.createElement("div",{className:"".concat(Qi.a.loading," ").concat(100===n?Qi.a.fadeout:"")},s.a.createElement("img",{alt:"bg",src:"./img/loading2.jpg",className:Qi.a.loadingBg}),s.a.createElement("p",null,n,"%"),s.a.createElement("p",{className:Qi.a.loadingBar,style:{width:"".concat(c.width*n/100,"px")}}))},$i=function(t){var e=t.canvasRef,n=t.size,c=t.ratio;return s.a.createElement("canvas",{ref:e,style:{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")},width:n.width*c,height:n.height*c})},ts=2,es={pause:[{key:"P",text:"Cancel"},{key:"R",text:"Return to Menu"}],complete:[{key:"SPACE",text:"Next Stage"},{key:"R",text:"Return to Menu"}]},ns=function(t){var e=t.toMenu,n=t.sceneRef,o=Object(i.useState)(!1),u=Object(l.a)(o,2),f=u[0],d=u[1],y=Li(Di),x=y.percent,b=y.isStart,v=Object(i.useRef)(null),w=Object(i.useRef)(null);!function(){var t=Fc,e=As();Object(i.useEffect)((function(){var n,c;return null===(n=e.current)||void 0===n||n.clear(),null===(c=e.current)||void 0===c||c.play(t.src,t.volume,t.restartPoint,t.endPoint),function(){var t;return null===(t=e.current)||void 0===t?void 0:t.clear()}}),[])}();var g=Ai(v).size,m=Wi,j=zi,O=Object(i.useReducer)(j,m),_=Object(l.a)(O,2),E=_[0],R=_[1],S=Ii("game"),M=S.visited,P=S.setVisited,k=Ri(w,g,E,b,n,M),L=k.result,A=k.setResult,T=k.setRefresh,I=k.isEndRef;!function(t,e){var n=Object(i.useRef)(!0),c=As();Object(i.useEffect)((function(){var e,a;n.current||(t.isPause?null===(e=c.current)||void 0===e||e.play(Yc.src):null===(a=c.current)||void 0===a||a.play(Gc.src));n.current=!1}),[t.isPause])}(E),function(t,e,n,o,s){var u=Object(i.useState)([]),f=Object(l.a)(u,2),h=f[0],d=f[1],y=Object(i.useRef)([]),x=function(c){t.isPause&&c.keyCode!==r.pause||n!==a.play||o.current||(c.keyCode!==r.pause||o.current?Mc.some((function(t){return t===c.keyCode}))&&!y.current.some((function(t){return t===c.keyCode}))&&(y.current.push(c.keyCode),d(Object(p.a)(y.current))):e({type:"isPause"}))},b=function(e){if(e.keyCode!==r.pause&&!t.isPause&&n===a.play){var c=y.current.filter((function(t){return t!==e.keyCode}));y.current=c,d(c)}};Object(i.useEffect)((function(){return s&&(window.addEventListener("keydown",x),window.addEventListener("keyup",b)),function(){window.removeEventListener("keydown",x),window.removeEventListener("keyup",b)}}),[s]),Object(i.useEffect)((function(){if(h.length&&!t.isPause&&n===a.play){for(var r=[],o=[c.left,c.right],i=[c.top,c.down],s=[c.turnLeft,c.turnRight],u=function(t){r.some((function(e){return h[t]===e}))&&(o.some((function(e){return h[t]===e}))||i.some((function(e){return h[t]===e}))||s.some((function(e){return h[t]===e})))||r.push(h[t])},l=h.length-1;l>=0;l--)u(l);e({type:"init"}),r.forEach((function(t){Pc.forEach((function(n){return n[1]===t&&e({type:n[0]})}))}))}else e({type:"init"})}),[h,t.isPause])}(E,R,L,I,M);var C=function(t,e,n,c,o,s,u,f,h,p){var d=As(),y=Object(i.useState)(!1),x=Object(l.a)(y,2),b=x[0],v=x[1],w=Object(i.useState)(!1),g=Object(l.a)(w,2),m=g[0],j=g[1];Object(i.useEffect)((function(){var n=function(){var t=Object(Pi.a)(Mi.a.mark((function t(n){var c;return Mi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.keyCode!==r.return){t.next=6;break}return v(!0),null===(c=d.current)||void 0===c||c.play(qc.src),t.next=5,ki(1e3);case 5:e();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t.isPause||c===a.success?window.addEventListener("keydown",n):window.removeEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[t.isPause,h,c]),Object(i.useEffect)((function(){var t=function(){var t=Object(Pi.a)(Mi.a.mark((function t(e){return Mi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.keyCode!==r.pause){t.next=5;break}return j(!0),t.next=4,ki(500);case 4:p(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return h?window.removeEventListener("keydown",t):window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[h]);var O=Object(i.useRef)("");return Object(i.useEffect)((function(){var t=!1,e=function(){var e=Object(Pi.a)(Mi.a.mark((function e(c){var i;return Mi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.keyCode!==r.space){e.next=16;break}if(!t){e.next=3;break}return e.abrupt("return");case 3:return t=!0,n.current===ji.length-1?n.current=0:n.current++,f(!0),null===(i=d.current)||void 0===i||i.play(Xc.src),e.next=9,ki(500);case 9:return o((function(t){return!t})),s(a.play),e.next=13,ki(1e3);case 13:f(!1),u.current=!1,t=!1;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return O.current!==c&&(c===a.success?setTimeout((function(){window.addEventListener("keydown",e)}),500):window.removeEventListener("keydown",e)),function(){return window.removeEventListener("keydown",e)}}),[c]),Object(i.useEffect)((function(){var t=function(){var t=Object(Pi.a)(Mi.a.mark((function t(){var e;return Mi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ki(500);case 2:return f(!0),null===(e=d.current)||void 0===e||e.play(Xc.src),t.next=6,ki(500);case 6:return o((function(t){return!t})),s(a.play),t.next=10,ki(1e3);case 10:f(!1),u.current=!1;case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();c===a.fail&&t()}),[c]),{isHide:b,isHiding:m}}(E,e,n,L,T,A,I,d,M,P),W=C.isHide,z=C.isHiding;return s.a.createElement("div",{ref:v,className:"".concat(h.a.root," ").concat(W?h.a.hide:"")},s.a.createElement(Zi,{isStart:b,percent:x,size:g}),s.a.createElement($i,{canvasRef:w,size:g,ratio:ts}),s.a.createElement(Xi,{changeScene:f,size:g,ratio:ts}),E.isPause&&s.a.createElement(Ji,{title:"PAUSED",op1:es.pause[0],op2:es.pause[1]}),L===a.success&&s.a.createElement(Ji,{title:"HACKING COMPLETE",op1:es.complete[0],op2:es.complete[1]}),!M&&b&&s.a.createElement(Ui,{type:"game",isHiding:z}))},cs=n(16),as=n.n(cs),rs=n(19),os=n.n(rs),is=function(t){var e=t.size.width;return s.a.createElement("svg",{className:os.a.svg,width:e,height:"200"},s.a.createElement("g",{style:{transform:"translateX(".concat(e/2-400,"px)")}},s.a.createElement("g",{className:os.a.container},s.a.createElement("path",{d:"M54.2,51.2c0,1.1-0.2,3-0.6,5.6c-0.4,2.4-1.6,3.6-3.8,3.6c-1.3,0-2.8-0.8-4.6-2.5c-9.5-9-20.5-22-32.8-39.1 l-0.2,8l-0.1,8c0,1.9,0,4.9,0.1,8.8c0.1,3.9,0.1,6.8,0.1,8.8c0,6.3-1.2,9.5-3.7,9.5c-1.3,0-2.3-0.4-3.1-1.2c-0.7-0.7-1-1.6-1-2.6 c0-1,0.1-2.5,0.2-4.5C5,51.5,5.1,50,5.1,49c0-1.5,0-3.6,0.1-6.5c0.1-2.9,0.1-5.1,0.1-6.5c0-1.5,0-3.9-0.1-7s-0.1-5.5-0.1-7 c0-1.5-0.1-3.7-0.4-6.6s-0.4-5.1-0.4-6.6c0-1.1,0.5-2.1,1.4-3c0.9-0.9,2-1.3,3.1-1.3c1.2,0,2.8,1.4,4.6,4.1 c5.8,8.7,11.1,16,15.8,21.8c5.6,6.9,11.6,13.4,18.3,19.7c0.1-1,0.1-2.5,0-4.5l-0.1-4.4c0-10.3-0.4-18.5-1.2-24.6 c-0.1-0.6-0.4-1.8-0.9-3.7c-0.5-1.6-0.7-2.8-0.7-3.7c0-2.7,1.2-4.1,3.7-4.1c4.1,0,6.1,7.6,6.1,22.8c0,2.6,0,6.5-0.1,11.7 S54.2,48.6,54.2,51.2z"}),s.a.createElement("path",{style:{animationDelay:"".concat(.2,"s")},d:"M70.6,43c0,1.4,0,3.5,0.1,6.3c0.1,2.8,0.1,4.9,0.1,6.3c0,1-0.3,1.9-0.9,2.5c-0.6,0.7-1.5,1-2.5,1 c-1,0-1.8-0.3-2.5-1c-0.6-0.7-1-1.5-1-2.5c0-1.4,0-3.5-0.1-6.3c-0.1-2.8-0.1-4.9-0.1-6.3c0-2.2,0.1-5,0.4-8.2 c0.2-3.3,0.4-6,0.4-8.2c0-1.1,0.3-1.9,1-2.6c0.6-0.7,1.5-1,2.5-1s1.8,0.3,2.5,1c0.6,0.7,1,1.5,1,2.6c0,2.2-0.1,5-0.4,8.2 C70.7,38.1,70.6,40.8,70.6,43z M69,14.5c-1.1,0-2.1-0.4-2.9-1.2c-0.8-0.8-1.2-1.8-1.2-2.9s0.4-2.1,1.2-2.9c0.8-0.8,1.8-1.2,2.9-1.2 s2.1,0.4,2.9,1.2c0.8,0.8,1.2,1.8,1.2,2.9s-0.4,2.1-1.2,2.9C71.1,14.1,70.1,14.5,69,14.5z"}),s.a.createElement("path",{style:{animationDelay:"".concat(.4,"s")},d:"M98.9,60.6c-5.3,0-9.6-1.3-12.9-4c-3.6-2.9-5.4-7-5.4-12.3c0-6.1,1.5-11.2,4.4-15.3c3.2-4.5,7.5-6.8,12.9-6.8 c3.9,0,7.1,0.7,9.5,2c3,1.6,4.5,4.1,4.5,7.5c0,2.3-1.3,4.5-4,6.4c-1.2,0.8-3.7,2.2-7.5,3.9l-13.4,6.4c1.3,1.9,2.9,3.4,4.9,4.4 s4.2,1.5,6.8,1.5c1.6,0,3.5-0.3,5.7-0.9c2.8-0.8,4.5-1.8,5.3-3c0.8-1.3,1.7-1.9,2.6-1.9c0.8,0,1.6,0.3,2.2,0.9c0.6,0.6,1,1.3,1,2.2 c0,2.6-2.1,4.8-6.3,6.7C105.8,59.8,102.3,60.6,98.9,60.6z M97.9,28.6c-2.9,0-5.2,1.1-7.1,3.3s-3.3,5.5-4.3,10l10.8-5.1 c4.2-2.1,7.3-3.9,9.1-5.4C104.4,29.5,101.5,28.6,97.9,28.6z"}),s.a.createElement("path",{style:{animationDelay:"".concat(3*.2,"s")},d:"M149.2,33c-0.2,2.9-1.3,4.4-3.5,4.4c-2,0-3-1.2-3-3.5c0-0.4,0-1.3-0.1-2.5l-0.1-3c-3.7,0.4-6.7,1.5-8.9,3.1 c-2.1,1.5-3.8,3.8-5.2,6.9l0.1,19.3c0,2.4-1.2,3.6-3.5,3.6c-2.1,0-3.1-1.2-3.1-3.6V33.1c0-0.8,0-1.9,0.1-3.5s0.1-2.7,0.1-3.5 c0-2.4,1-3.6,3.1-3.6c2.3,0,3.5,1.9,3.5,5.8c4.5-4.3,9.5-6.5,15-6.5c1.9,0,3.3,0.7,4.3,2.1c0.9,1.4,1.4,3.6,1.4,6.5 C149.3,31.8,149.3,32.6,149.2,33z"}),s.a.createElement("path",{style:{animationDelay:"".concat(.8,"s")},d:"M165.6,25.4c0,1.1-0.3,1.9-1,2.6c-0.7,0.7-1.5,1-2.6,1s-1.9-0.3-2.6-1c-0.7-0.7-1-1.5-1-2.6 c0-0.3-0.1-0.7-0.2-1.3c-0.1-0.6-0.2-1-0.2-1.3c0-1,0.4-1.8,1.1-2.5c0.7-0.7,1.6-1,2.6-1C164.3,19.3,165.6,21.3,165.6,25.4z M166.1,51.1c0,1.1-0.3,1.9-1,2.6c-0.7,0.7-1.5,1-2.6,1s-1.9-0.3-2.6-1c-0.7-0.7-1-1.5-1-2.6c0-0.4-0.1-1.1-0.2-2 c-0.2-0.9-0.2-1.5-0.2-1.9c0-1,0.4-1.8,1.1-2.5c0.7-0.7,1.6-1,2.6-1C164.8,43.7,166.1,46.2,166.1,51.1z"}),s.a.createElement("path",{style:{animationDelay:"".concat(1,"s")},d:"M238.6,60.1c-2.2,0-4-2.8-5.6-8.3c-0.6-2.1-1.4-5.8-2.3-11.1c-2.4,0.3-5.5,0.9-9.4,1.8l-9.4,1.9 c-1.2,3.1-3.2,7.6-6,13.5c-0.8,1.3-1.8,2-3.1,2c-0.9,0-1.8-0.3-2.5-1s-1.1-1.5-1.1-2.5c0-1.1,1.8-5.4,5.3-12.8 c-0.4-0.6-0.6-1.3-0.6-2.1c0-1.9,1.1-3.1,3.4-3.7c2.7-5,6-10.8,10.1-17.3c5.6-8.9,9-13.3,10.4-13.3c1.9,0,3.1,1.3,3.8,3.9l2.2,11.8 l5.2,24.4l2,5.6c0.7,1.9,1,3.2,1,3.8c0,1-0.4,1.9-1.1,2.5S239.5,60.1,238.6,60.1z M226.2,19.9l-10.1,16.2c2.8-0.7,7.1-1.6,12.9-2.6 L226.2,19.9z"}),s.a.createElement("path",{style:{animationDelay:"".concat(6*.2,"s")},d:"M280.9,38.5c0,1.7,0,4.2,0,7.6s0,5.9,0,7.6c0,0.5,0,1.3,0.1,2.4s0.1,1.8,0.1,2.4c0,1-0.3,1.8-1,2.5 s-1.5,1-2.5,1c-1.8,0-3-1.1-3.4-3.3c-2.9,1.5-6.3,2.3-10.1,2.3c-3.1,0-5.6-0.7-7.6-2c-2.2-1.5-3.6-3.7-4-6.6 c-0.9-6.2-1.4-11.7-1.4-16.6c0-3.2,0.4-6.9,1.1-11c0.3-2,1.4-3.1,3.3-3.1c1,0,1.9,0.3,2.5,1c0.7,0.6,1,1.5,1,2.5 c0,1.1-0.2,2.8-0.5,5.2c-0.3,2.4-0.5,4.2-0.5,5.4c0,3.9,0.1,7.3,0.4,10.1c0.3,2.8,0.6,5,1.2,6.7c0.8,0.4,1.5,0.7,2.3,1 c0.8,0.2,1.5,0.3,2.2,0.3c3.1,0,6.5-0.5,9.9-1.5l0-7.1l-0.1-6.8c0-5.1,0.2-9.5,0.7-13.2c0.3-2.2,1.4-3.2,3.4-3.2c1,0,1.9,0.3,2.5,1 c0.7,0.7,1,1.5,0.9,2.5L280.9,38.5z"}),s.a.createElement("path",{style:{animationDelay:"".concat(7*.2,"s")},d:"M313.1,29c-0.5,0-1.1,0-1.7-0.1c-0.7,0-1.2-0.1-1.7-0.1c-0.5,0-2.1,0.2-4.8,0.5l0.7,20.8l0,1.5l0,1.8 c0.1,5.1-1.1,7.7-3.7,7.7c-0.9,0-1.8-0.3-2.4-0.9s-1-1.4-1-2.3c0-0.9,0-2.2,0.1-4c0.1-1.8,0.1-3.1,0.1-4l-0.7-20.5 c-1.7-0.1-4.3-0.3-7.8-0.6c-2.1-0.3-3.1-1.4-3.1-3.5c0-1,0.3-1.9,0.9-2.6c0.6-0.7,1.4-1,2.4-1l7.4,0.6c0-1.2-0.1-2.8-0.2-4.8 s-0.2-3.5-0.2-4.3c0-1,0.3-1.8,1-2.4c0.7-0.6,1.5-1,2.5-1c2.1,0,3.3,1.7,3.7,5.2c0.1,0.9,0.1,1.9,0.1,3.1l-0.1,2l0,2.2 c2.9-0.4,4.6-0.6,5-0.6c2.4,0,4,0.1,4.8,0.4c1.4,0.5,2.1,1.6,2.1,3.3c0,1-0.3,1.9-1,2.5S314.1,29,313.1,29z"}),s.a.createElement("path",{style:{animationDelay:"".concat(1.6,"s")},d:"M336.7,61.1c-3.9,0-7.3-1.5-10.2-4.4c-3.2-3.2-4.8-7.6-5-13c-0.1-5.3,1.2-10,4-14c3.3-4.8,7.9-7.1,13.7-7.1 c4.7,0,8.2,2.1,10.7,6.4c1.9,3.5,2.8,7.6,2.8,12.5c-0.1,5.2-1.4,9.6-4.1,13.3C345.6,59,341.7,61.1,336.7,61.1z M338.8,29.7 c-3.4,0-6.1,1.6-8.1,4.9c-1.5,2.6-2.3,5.7-2.3,9.1c0,3.4,0.9,6,2.8,7.9c1.5,1.6,3.4,2.4,5.4,2.4c2.4,0,4.5-0.9,6.3-2.7 c2-2,3-4.6,3.2-8C346.5,34.2,344.1,29.7,338.8,29.7z"}),s.a.createElement("path",{style:{animationDelay:"".concat(1.8,"s")},d:"M406.1,61.9c-1.9,0-3-1-3.4-3.1c-0.4-2.6-0.8-6.2-1.3-10.9l-1.2-10.9c-0.2-1.6-0.6-3.2-1.2-4.7 c-0.8-2.1-1.7-3.2-2.6-3.2c-0.9,0-2.5,0.7-4.9,2.2c-2.2,1.4-3.7,2.4-4.4,3.3c0,2.2,0,4.4,0.2,6.6l1.1,9.4c0.4,3.7,0.7,6.8,0.7,9.2 c0,1-0.3,1.9-1,2.5s-1.5,1-2.5,1s-1.8-0.3-2.5-1s-1-1.5-1-2.5c0-2.8-0.3-7-0.9-12.6c-0.6-5.5-0.9-9.7-0.9-12.6 c0-2.5-0.4-4.4-1.1-5.8c-1.6,0.8-3.3,2-5,3.7l-4.1,4.6c-0.4,0.6-1,1.3-1.8,2.2c0,1.4-0.1,3.5-0.4,6.2s-0.4,4.8-0.4,6.1 c0,0.7,0.1,1.7,0.3,3s0.3,2.2,0.3,2.7c0,1-0.4,1.8-1.1,2.4s-1.6,1-2.5,1c-2.6,0-4-3-4-9c0-1.4,0.1-3.5,0.4-6.3 c0.3-2.8,0.4-4.9,0.4-6.3c0-1.2-0.1-3.1-0.3-5.6c-0.2-2.5-0.3-4.4-0.3-5.6c0-5.3,1.2-8,3.6-8c0.9,0,1.8,0.4,2.5,1.2 c0.8,0.8,1.1,1.7,1.1,2.6c0,0.4-0.1,1.1-0.2,2.1c-0.1,0.9-0.2,1.7-0.2,2.1l0.1,3.7c1.2-2.5,3-4.8,5.4-6.8c2.4-2,4.4-3,6-3 c3.7,0,6.2,1.8,7.6,5.5c1.3-1.7,2.8-3,4.6-3.8c1.8-0.9,3.8-1.3,6.1-1.3c3.9,0,6.6,2.1,8,6.3c0.3,0.8,0.8,4.1,1.4,9.9 c0.7,4,1.5,10.7,2.5,20.1c0.1,0.9-0.2,1.7-0.9,2.4S407.1,61.9,406.1,61.9z"}),s.a.createElement("path",{style:{animationDelay:"".concat(2,"s")},d:"M444.8,61.3c-0.4,0-1.3-0.5-2.4-1.5c-1.1-1-1.8-1.8-2.4-2.6c-2.2,1.2-4.2,2.1-5.9,2.8s-3.1,0.9-4.3,0.9 c-5.5,0-9.5-1.5-12-4.6c-2.4-2.9-3.6-7.4-3.6-13.4c0-5.7,2-10.5,5.9-14.6c3.9-4,8.6-6,14-6c2,0,4.3,0.5,6.9,1.6 c3.2,1.3,4.8,2.9,4.8,4.7c0,0.6-0.2,1.2-0.7,1.7c-0.2,0.9-0.4,2.4-0.5,4.4s-0.2,4.7-0.2,7.8c0,2.9,0.2,5.2,0.6,6.9 c0.2,1,1,3.1,2.2,6.2c0.2,0.4,0.4,1,0.8,1.9l0.2,0.6c0,0.9-0.3,1.7-1,2.3S445.7,61.3,444.8,61.3z M437.5,36.9c0-1,0.1-2.1,0.2-3.3 c0.1-1.2,0.3-2.4,0.6-3.8c-0.9-0.4-1.6-0.8-2.2-1s-1.1-0.3-1.5-0.3c-3.6,0-6.8,1.5-9.4,4.4c-2.6,3-4,6.4-4,10.2 c0,3.8,0.7,6.7,2,8.6c1.4,1.9,3.4,2.9,6.1,2.9c2.2,0,4.2-0.4,5.7-1.2c0.8-0.4,2-1.3,3.6-2.7C437.9,44.6,437.5,40,437.5,36.9z"}),s.a.createElement("path",{style:{animationDelay:"".concat(2.2,"s")},d:"M477.7,29c-0.5,0-1.1,0-1.7-0.1c-0.7,0-1.2-0.1-1.7-0.1c-0.5,0-2.1,0.2-4.8,0.5l0.7,20.8l0,1.5l0,1.8 c0.1,5.1-1.1,7.7-3.7,7.7c-0.9,0-1.8-0.3-2.4-0.9s-1-1.4-1-2.3c0-0.9,0-2.2,0.1-4c0.1-1.8,0.1-3.1,0.1-4l-0.7-20.5 c-1.7-0.1-4.3-0.3-7.8-0.6c-2.1-0.3-3.1-1.4-3.1-3.5c0-1,0.3-1.9,0.9-2.6c0.6-0.7,1.4-1,2.4-1l7.4,0.6c0-1.2-0.1-2.8-0.2-4.8 s-0.2-3.5-0.2-4.3c0-1,0.3-1.8,1-2.4c0.7-0.6,1.5-1,2.5-1c2.1,0,3.3,1.7,3.7,5.2c0.1,0.9,0.1,1.9,0.1,3.1l-0.1,2l0,2.2 c2.9-0.4,4.6-0.6,5-0.6c2.4,0,4,0.1,4.8,0.4c1.4,0.5,2.1,1.6,2.1,3.3c0,1-0.3,1.9-1,2.5S478.7,29,477.7,29z"}),s.a.createElement("path",{style:{animationDelay:"".concat(12*.2,"s")},d:"M515.6,61.3c-0.4,0-1.3-0.5-2.4-1.5c-1.1-1-1.8-1.8-2.4-2.6c-2.2,1.2-4.2,2.1-5.9,2.8s-3.1,0.9-4.3,0.9 c-5.5,0-9.5-1.5-12-4.6c-2.4-2.9-3.6-7.4-3.6-13.4c0-5.7,2-10.5,5.9-14.6c3.9-4,8.6-6,14-6c2,0,4.3,0.5,6.9,1.6 c3.2,1.3,4.8,2.9,4.8,4.7c0,0.6-0.2,1.2-0.7,1.7c-0.2,0.9-0.4,2.4-0.5,4.4s-0.2,4.7-0.2,7.8c0,2.9,0.2,5.2,0.6,6.9 c0.2,1,1,3.1,2.2,6.2c0.2,0.4,0.4,1,0.8,1.9l0.2,0.6c0,0.9-0.3,1.7-1,2.3S516.4,61.3,515.6,61.3z M508.3,36.9c0-1,0.1-2.1,0.2-3.3 c0.1-1.2,0.3-2.4,0.6-3.8c-0.9-0.4-1.6-0.8-2.2-1s-1.1-0.3-1.5-0.3c-3.6,0-6.8,1.5-9.4,4.4c-2.6,3-4,6.4-4,10.2 c0,3.8,0.7,6.7,2,8.6c1.4,1.9,3.4,2.9,6.1,2.9c2.2,0,4.2-0.4,5.7-1.2c0.8-0.4,2-1.3,3.6-2.7C508.6,44.6,508.3,40,508.3,36.9z"}))))},ss=n(24),us=n.n(ss),ls=function(t){var e=t.str,n=t.toMenu,c=t.setIsHide,a=Object(i.useState)(""),r=Object(l.a)(a,2),o=r[0],u=r[1],f=As();return Object(i.useEffect)((function(){(function(){var t=Object(Pi.a)(Mi.a.mark((function t(){var n,c,a;return Mi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.split(""),t.next=3,ki(5e3);case 3:c=Mi.a.mark((function t(e){return Mi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u((function(t){return t+n[e]})),t.next=3,ki(50);case 3:case"end":return t.stop()}}),t)})),a=0;case 5:if(!(a<n.length)){t.next=10;break}return t.delegateYield(c(a),"t0",7);case 7:a++,t.next=5;break;case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(i.useEffect)((function(){var t=function(){var t=Object(Pi.a)(Mi.a.mark((function t(){var e;return Mi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),null===(e=f.current)||void 0===e||e.play(Vc.src),t.next=4,ki(500);case 4:n();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o.length===e.length&&window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[o]),s.a.createElement("div",{className:us.a.start},o)},fs=n(13),hs=n.n(fs),ps=function(t){var e=t.percent,n=t.size,c=t.setIsStart,a=Object(i.useState)(!1),r=Object(l.a)(a,2),o=r[0],u=r[1],f=function(){var t=Object(Pi.a)(Mi.a.mark((function t(){return Mi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(100!==e){t.next=5;break}return u(!0),t.next=4,ki(1e3);case 4:c(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s.a.createElement("div",{onClick:f,className:"".concat(hs.a.loading," ").concat(o?hs.a.fadeout:"")},s.a.createElement("p",null,e,"%"),s.a.createElement("p",{className:hs.a.loadingBar,style:{width:"".concat(n.width*e/100,"px")}}),100===e&&s.a.createElement("div",{className:hs.a.wave},"Start"))},ds=n(25),ys=n.n(ds),xs=function t(e,n,c){var a=this;Object(Ac.a)(this,t),this.ctx=e,this.pos=n,this.size=c,this.life=this.size/10,this.count=0,this.ax=0,this.borderCheck=function(t,e){return a.pos.x<0||a.pos.x>t||a.pos.y>e},this.lifeCheck=function(){return a.life>0},this.update=function(t){a.ax+=t,a.pos.x+=a.ax/(a.size*a.size),a.pos.y+=a.size/2,a.count%100===0&&(a.life-=.1),a.count++},this.display=function(t){a.update(t),a.ctx.beginPath(),a.ctx.fillStyle="rgba(255,255,255,".concat(a.life,")"),a.ctx.shadowBlur=10,a.ctx.shadowColor="white",a.ctx.arc(a.pos.x,a.pos.y,a.size,0,2*Math.PI,!1),a.ctx.fill()}},bs=function t(e,n,c){var a=this;Object(Ac.a)(this,t),this.ctx=e,this.width=n,this.height=c,this.list=[],this.count=0,this.add=function(){a.list.push(new xs(a.ctx,new Ic(Math.random()*a.width,0),10*Math.random()))},this.remove=function(t){a.list.splice(t,1)},this.display=function(){for(var t=a.list.length-1;t>=0;t--)!a.list[t].borderCheck(a.width,a.height)&&a.list[t].lifeCheck()||a.remove(t);a.list.length<100&&a.count%10===0&&a.add(),a.list.forEach((function(t){return t.display(10*(Math.random()-.5))})),a.count++}},vs=function(t){var e=t.size,n=Object(i.useRef)(null);return Object(i.useEffect)((function(){var t;if(n.current){var c=n.current.getContext("2d");if(!c)return;var a=e.width,r=e.height,o=new bs(c,2*a,2*r);t=requestAnimationFrame((function e(){c.clearRect(0,0,2*a,2*r),o.display(),t=requestAnimationFrame(e)}))}return function(){return cancelAnimationFrame(t)}}),[n.current]),s.a.createElement("canvas",{ref:n,className:ys.a.canvas,style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px")},width:2*e.width,height:2*e.height},"Your browser can not support canvas")},ws={audio:["./media/opening.mp3","./media/button_enter.wav","./media/button_select.wav","./media/contact_done2.wav"],img:["./img/bg.jpg","./img/loading2.jpg","./img/stage/0.jpg","./img/stage/1.jpg","./img/stage/2.jpg","./img/stage/3.jpg"]},gs=function(t){var e=t.setStage,n=t.isStart,c=t.setIsStart,a=Object(i.useRef)(null),r=Li(ws).percent,o=Ai(a).size,u=Object(i.useState)(!1),f=Object(l.a)(u,2),h=f[0],p=f[1];return s.a.createElement("div",{ref:a,className:"".concat(as.a.root," ").concat(h?as.a.hide:"")},n?s.a.createElement("div",{className:as.a.bg},s.a.createElement(is,{size:o}),s.a.createElement(ls,{str:"Press any key",toMenu:function(){return e(1)},setIsHide:p}),s.a.createElement(vs,{size:o})):s.a.createElement(ps,{percent:r,size:o,setIsStart:c}))},ms=n(17),js=n.n(ms),Os=n(14),_s=n.n(Os),Es=function(t){var e=t.listRef,n=t.selected;return s.a.createElement("div",{className:_s.a.listArea},s.a.createElement("ul",{ref:e,className:_s.a.listContainer},ji.map((function(t,e){return s.a.createElement("li",{key:e,style:{animationDelay:"".concat(e/10,"s")}},s.a.createElement("div",{className:e===n?_s.a.selected:_s.a.notselected},"Stage ",e===ji.length-1?"\u221e":e))}))))},Rs=n(20),Ss=n.n(Rs),Ms=function(t){var e=t.str;return s.a.createElement("div",{className:Ss.a.title},e.split("").map((function(t,e){return s.a.createElement("p",{key:e,className:Ss.a.showRight,style:{animationDelay:"".concat(e/10,"s")}},t)})))},Ps=function(t){var e=t.setStage,n=t.sceneRef,c=Object(i.useRef)(null),a=Ii("menu"),u=a.visited,f=a.setVisited,h=function(t,e,n,c){var a=Object(i.useRef)(0),s=Object(i.useState)(0),u=Object(l.a)(s,2),f=u[0],h=u[1],p=As(),d=function(){var c=Object(Pi.a)(Mi.a.mark((function c(i){var s,u,l,f,d,y,x,b,v,w,g,m,O;return Mi.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:x=(null===(s=n.current)||void 0===s?void 0:s.scrollHeight)||0,b=(null===(u=n.current)||void 0===u?void 0:u.scrollTop)||0,v=(null===(l=n.current)||void 0===l?void 0:l.clientHeight)||0,c.t0=i.keyCode,c.next=c.t0===r.space?6:c.t0===o.down?13:c.t0===o.top?16:19;break;case 6:return j(!0),null===(f=p.current)||void 0===f||f.play(Vc.src),e.current=a.current,c.next=11,ki(500);case 11:return t(2),c.abrupt("break",20);case 13:return a.current===ji.length-1?(h(0),null===(w=n.current)||void 0===w||w.scrollTo(0,0)):(h((function(t){return t+1})),60*(a.current+1)-b>v-30&&(null===(g=n.current)||void 0===g||g.scrollTo(0,60*(a.current+2)-v))),null===(d=p.current)||void 0===d||d.play(Uc.src),c.abrupt("break",20);case 16:return 0===a.current?(h(ji.length-1),null===(m=n.current)||void 0===m||m.scrollTo(0,x)):(h((function(t){return t-1})),60*(a.current-1)-b<0&&(null===(O=n.current)||void 0===O||O.scrollTo(0,60*(a.current-1)))),null===(y=p.current)||void 0===y||y.play(Uc.src),c.abrupt("break",20);case 19:return c.abrupt("break",20);case 20:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}(),y=Object(i.useState)(ji[0].profile),x=Object(l.a)(y,2),b=x[0],v=x[1];Object(i.useEffect)((function(){a.current=f,v(ji[f].profile)}),[f]);var w=Object(i.useState)(!1),g=Object(l.a)(w,2),m=g[0],j=g[1];return Object(i.useEffect)((function(){return c&&setTimeout((function(){window.addEventListener("keydown",d)}),500),function(){return window.removeEventListener("keydown",d)}}),[c]),{src:b,isHide:m,selected:f}}(e,n,c,u),p=h.src,d=h.isHide,y=h.selected,x=function(t,e){var n=Object(i.useState)(!1),c=Object(l.a)(n,2),a=c[0],o=c[1];return Object(i.useEffect)((function(){var n=function(){var t=Object(Pi.a)(Mi.a.mark((function t(n){return Mi.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.keyCode!==r.pause){t.next=5;break}return o(!0),t.next=4,ki(250);case 4:e(!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t?window.removeEventListener("keydown",n):window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[t]),{isHiding:a}}(u,f).isHiding;return s.a.createElement("div",{className:"".concat(js.a.root," ").concat(d?js.a.hide:"")},s.a.createElement(Ms,{str:"Stage"}),s.a.createElement(Es,{listRef:c,selected:y}),s.a.createElement("div",{className:js.a.profile},s.a.createElement("img",{alt:"img",src:p})),!u&&s.a.createElement(Ui,{type:"menu",isHiding:x}))};!function(t){t[t.opening=0]="opening",t[t.menu=1]="menu",t[t.game=2]="game"}(Sc||(Sc={}));var ks=function(t){var e=Bc,n=Object(i.useRef)(-1),c=Object(i.useState)(0),a=Object(l.a)(c,2),r=a[0],o=a[1],s=function(){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){t.current=new Ti}),[]),{audioRef:t}}().audioRef;return Object(i.useEffect)((function(){var c,a;0!==n.current&&1!==n.current&&t&&(null===(c=s.current)||void 0===c||c.clear(),null===(a=s.current)||void 0===a||a.play(e.src,e.volume,e.restartPoint));n.current=r}),[r,t]),Object(i.useEffect)((function(){var c,a;t&&(null===(c=s.current)||void 0===c||c.clear(),null===(a=s.current)||void 0===a||a.play(e.src,e.volume,e.restartPoint));n.current=r}),[t]),{stage:r,setStage:o,audioRef:s}},Ls=Object(i.createContext)({}),As=function(){var t=Object(i.useContext)(Ls);if(void 0===t)throw new Error("Components must be used within <Home />");return t},Ts=function(){var t=Object(i.useRef)(0),e=Object(i.useState)(!1),n=Object(l.a)(e,2),c=n[0],a=n[1],r=ks(c),o=r.stage,u=r.setStage,f=r.audioRef;return s.a.createElement(Ls.Provider,{value:f},o===Sc.opening?s.a.createElement(gs,{setStage:u,isStart:c,setIsStart:a}):o===Sc.menu?s.a.createElement(Ps,{setStage:u,sceneRef:t}):s.a.createElement(ns,{toMenu:function(){return u(1)},sceneRef:t}))};Object(u.render)(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Ts,null)),document.getElementById("target"))}],[[27,1,2]]]);
//# sourceMappingURL=main.7f529c9c.chunk.js.map